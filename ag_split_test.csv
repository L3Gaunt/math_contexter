text,word_count
"zero locus, • if f0 contains more than one monomial, f0 has a zero x0 6= 0, and hence g(x0,0) = 0. So g(x, y) is of the form g(x, y) = x m + f1(x)· y+ f2(x)· y 2 +···+ fn(x)· y n . Now set y = ε",50
1 2 (c 2 1 −2c2) + 1 6 (c 3 1 −3c1c2 +3c3) +··· and td(F) = 1+ 1 2 c1 + 1 12 (c 2 1 +c2) + 1 24 c1c2 +··· . Remark 10.4.4. If 0 → F 0 → F → F 00 → 0 is,50
"a prevariety. Show that: (i) X is a Noetherian topological space, (ii) any open subset of X is a prevariety. Exercise 2.6.8. Let (X,OX ) be a prevariety, and let Y ⊂ X be an irreducible closed subset. For every open subset U ⊂ Y define OY (U) to be",50
"using the explicit description of the proof of part (ii), shows that H n−1 (X,F (−1)) ∼= H n−1 (X,F ). So we see that the map H i (X,F (−1)) → ·xn H i (X,F ) is an isomorphism for all 1 ≤ i ≤ n − 1. (Splitting",50
"equivalent: (i) X is reduced, i. e. for every open subset U ⊂ X the ring OX (U) has no nilpotent elements. (ii) For any open subset Ui of an open affine cover {Ui} of X, the ring OX (Ui) has no nilpotent elements. (iii) For every point P ∈",50
"for all line bundles L on a smooth projective curve X. In fact, this is just a special case of the Serre duality theorem that asserts that for any smooth n-dimensional variety X and any locally free sheaf F there are canonical isomorphisms H i (X,F ) ∼= H n−i",50
"to be morphisms in the corresponding category (for example, in complex analysis the morphisms are just the holomorphic maps). This is usually expressed in the following way: a pair (X,F ) where X is a topological space and F is a sheaf of rings on X is called a ringed",50
"(v) will compute the Euler characteristic χ(X,F ) := n ∑ i=0 (−1) i h i (X,F ) 8. Cohomology of sheaves 159 in terms of other data that are usually easier to determine than the cohomology groups themselves. 8.4. The cohomology of line bundles on projective spaces. Let us",50
"ai . Obviously, divisors can be added and subtracted. The group of divisors on C is denoted DivC. Equivalently, DivC is the free abelian group generated by the points of C. The degree degD of a divisor D = a1P1 +···+amPm is defined to be the integer a1 + ···+am.",50
"⊂ A n+1 . Consider the projection map π : Z(J) → X given by π(P,λ) = P. This is a morphism with image Xf and inverse morphism π −1 (P) = (P, 1 f 0(P) ), hence π is an isomorphism. It is obvious that A(Z(J)) = A(X)f .",50
"X,Y be prevarieties and let f : X → Y be a set-theoretic map. Let {U1,...,Ur} be an open cover of X and {V1,...,Vr} an affine open cover of Y such that f(Ui) ⊂ Vi and (f |Ui ) ∗OY (Vi) ⊂ OX (Ui). Then f is a morphism. Proof. We may assume that the Ui are affine, as otherwise we can replace the Ui by a set of affines that cover Ui . Consider the restrictions fi : Ui → Vi . The homomorphism f ∗ i",88
"affine scheme SpecZ contains an element for every prime number, and in addition the generic point (0). 76 Andreas Gathmann So far we have defined SpecR as a set. This is not particularly interesting, so let us move on and make SpecR into a topological space. This is done in the same way as for affine varieties. Definition 5.1.5. Let R be a ring. For every subset S ⊂ R, we define the zero locus of S to be the set Z(S) := {p ∈ SpecR ; f(p)",88
"to linear algebra: it is not true that every object of codimension d can be given by d equations. Even worse, if you are given d equations, it is in general a very difficult task to figure out what dimension their solution has. There do exist algorithms to find this out for any given set of polynomials, but they are so complicated that you will in general want to use a computer program to do that for you. This is a simple example of an application of computer",88
"2 Y1 Y2 −a a a=0 a=0 Example 5.2.4. Again let Y1 = Spec(R/I1) and Y2 = Spec(R/I2) be closed subschemes of of the affine scheme X = SpecR. Note that for affine varieties the ideal of the union of two closed subsets equals the intersection of their ideals (see exercise 1.4.1 (i)). So scheme-theoretically we just define the union Y1 ∪Y2 to be SpecR/(I1 ∩I2). The following lemma is the scheme-theoretic analogue of lemma 2.3.16. Lemma 5.2.5. Let X = SpecR be an affine scheme, and let",88
"0 ]) = p∗i∗(s(i ∗OP(−1))· [P 0 ]) = p∗(s(OP(−1))·i∗[P 0 ]) = p∗(s(OP(−1))·(c1(p ∗F 00)−c1(OP(−1)))· [P]). Subtracting these two equations from each other, we get c(F 00)·s(F)· [V]−s(F 0 )· [V] = p∗(s(OP(−1)) c(OP(−1))[P]) = p∗[P] = 0 for dimensional reasons. Step 2: rankF 00 > 1. Let Q = P(F 00∨) with projection map q : Q → X, and let L ∨ ⊂ q ∗F 00∨ be the universal line bundle. Then we get a commutative diagram of vector bundles on Q with exact rows",88
"graded parts. (ii) Although the sum over i in s(F) is formally infinite, it has of course only finitely many terms as Ak(X) is non-zero only for finitely many k. (iii) The homomorphism s(F) is in fact an isomorphism of vector spaces: by proposition 10.2.3 (i) it is given by a triangular matrix with ones on the diagonal (in the natural grading of A∗(X)). By (iii) it makes sense to define the total Chern class of F c(F) = ∑ i≥0 ci(F) to be the inverse homomorphism of",88
"have x2 6= 0 as the coordinates cannot be simultaneously zero. So there is only one point added at infinity, namely (0 : 0 : 1). It corresponds to the “vertical direction” in A 2 , which is the direction in which the parabola x2 = x 2 1 goes off to infinity (at both ends actually). For X˜ 2, the added points have again x0 = 0. This means that x1x2 = 0, which yields the two points (0 : 1 : 0) and (0 : 0",88
"coordinate ring R we will have a point for every prime ideal in R, and not just for every maximal ideal. These additional points are sometimes important, but quite often one can ignore this fact. Many textbooks will even adopt the convention that a point of a scheme is always meant to be a point in the old geometric sense (i. e. a maximal ideal). (iv) In contrast to (ii), the affine scheme SpecR[x] contains points that are not of the form (x−a) or (0), e. g. (x",88
"time to kill, you may try to prove this too.) 34 Andreas Gathmann Exercise 2.6.13. Let X and Y be prevarieties with affine open covers {Ui} and {Vj}, respectively. Construct the product prevariety X ×Y by glueing the affine varieties Ui ×Vj together. Moreover, show that there are projection morphisms πX : X ×Y → X and πY : X × Y → Y satisfying the “usual” universal property for products: given morphisms f : Z → X and g : Z → Y from any prevariety Z,",88
"every regular local ring (i. e. “the local ring of a scheme at a smooth point”) is a unique factorization 180 Andreas Gathmann domain. Actually, we can see from the above argument that it is enough that X is “smooth in codimension 1”, i. e. that its set of singular points has codimension at least 2 — or to express it algebraically, that its local rings OX,V at codimension-1 subvarieties V are regular.) Example 9.3.8. Finally let us discuss the relation between divisors and line bundles as observed",88
"6.5.7: it is just a parallelogram with opposite sides identified, i. e. a torus. This agrees with our earlier statements that a smooth plane cubic curve has genus 1, and that the genus should be thought of as the number of “holes” in the (real) surface. 6.6. Where to go from here. After having discussed some basic algebraic geometry we now want to sketch which important parts of the general theory are still missing in our framework. Example 6.6.1. Intersection theory. Let X ⊂ P n be a projective variety of dimension r, and let X1,...,Xr ⊂ P n be r hypersurfaces. If the hypersurfaces are in sufficiently general position, the intersection X1∩···∩Xr ∩X will be zero-dimensional. Bezout’s theorem then ´ tells us that the intersection consists",127
"is the permutation such that σ(j) < σ(i0) < ··· < σ(ip−1) then by αj,i0,...,ip−1 we mean (−1) σ ·ασ(j),σ(i0),...,σ(ip−1) . We claim that kd +dk : C k P → C k P is the identity. In fact, we have (dkα)i0,...,ip = αi0,...,ip − p ∑ k=1 (−1) k αj,i0,...,ik−1 ,ik+1 ,...,ip and (kdα)i0,...,ip = p ∑ k=1 (−1) k αj,i0,...,ik−1 ,ik+1 ,...,ip from which the claim follows. 8. Cohomology of sheaves 163 Finally we can now prove that the sequence (∗) is exact at any point P: we know already that imd k−1 ⊂ kerd k as d k ◦ d k−1 = 0. Conversely, if α ∈ kerd k , i. e. dα = 0, then α = (kd +dk)(α) = d(kα), i. e.",127
"by definition of the pull-back we have q ∗ [0] = [Y˜]+[P] and q ∗ [∞] = [Y], so we get the equality r ∑ k=0 (−1) k ch(Fi |Y˜)· [Y˜] + r ∑ k=0 (−1) k ch(Fi |P)· [P] = r ∑ k=0 (−1) k ch(Fi |Y )· [Y] (2) in A∗(M)⊗Q. But note that the restriction to Y˜ of the sheaf iX ∗ p ∗ X F in (1) is the zero sheaf as X ×P 1 ∩Y˜ = 0/ in M. So the sequence 0 → Fr |Y˜ → ··· → F1|Y˜ → F0|Y˜ → 0 is exact, which means that the first sum in (2) vanishes. The second sum in (2) is precisely ch(F) td(NX/Y ) · [X] by example 10.5.7. So we",127
"be surjective in general. We have however already met a case in which the induced map on global sections is exact: if X = SpecR is an affine scheme and Fi = M˜ i for some R-modules Mi are quasicoherent sheaves on X then by lemma 7.2.7 (ii) the sequence 0 → F1 → F2 → F3 → 0 150 Andreas Gathmann is exact if and only if the sequence 0 → Γ(F1) → Γ(F2) → Γ(F3) → 0 is exact (note that Γ(Fi) = Mi by proposition 7.2.2 (ii)). We have mentioned already that essentially all sheaves occurring in practice are quasi-coherent, so we will assume this from now on for the rest of this chapter. The conclusion is that we know that taking global sections",127
"The 27 lines on a smooth cubic surface. As an application of the theory that we have developed so far, we now want to study lines on cubic surfaces in P 3 . We have already mentioned in example 0.1.7 that every smooth cubic surface has exactly 27 lines on it. We now want to show this. We also want to study the configuration of these lines, and show that every smooth cubic surface is birational to P 2 . The results of this section will not be needed later on. Therefore we will not give all the proofs in every detail here. The goal of this section is rather to give an idea of what can be done with our current methods. First let us recall",127
"X 99K L1 ×L2 and L1 ×L2 99K X show that X is birational to P 1 ×P 1 and hence to P 2 : “X 99K L1 ×L2”: By exercise 3.5.1, for every point P not on L1 or L2 there is a unique line L(P) in P 3 through L1, L2 and P. Take the rational map P 7→ (L1 ∩L(P),L2 ∩L(P)) that is obviously well-defined away from L1 ∪L2. “L1 ×L2 99K X”: Map any pair of points (P,Q) ∈ L1 ×L2 to the third intersection point of X with the line PQ. This is well-defined whenever PQ is not contained in X. Proposition 4.5.7. Any smooth cubic surface in P 3 is isomorphic to P 1 ×P 1 blown up in 5 (suitably",127
"(one-dimensional) projective variety X in H = P 2 : x0 L1 L2 /A3 H X C(X) 40 Andreas Gathmann (C(X) consists only of the “boundary” of the cone, not of the “interior”.) Note that C(X) contains the two lines L1 and L2, which correspond to “points at infinity” of the projective space P 2 . Lemma 3.2.4. (i) Let I ( k[x0,..., xn] be a homogeneous ideal. If X = Zp(I) ⊂ P n , then C(X) = Za(I) ⊂ A n+1 . (ii) Conversely, if X ⊂ P n is a projective algebraic set and I(X) ⊂ k[x0,..., xn] is its homogeneous ideal, then I(C(X)) = I(X). In other words, there is a one-to-one correspondence between projective algebraic sets in P n and affine cones",127
"We have also seen above that in an affine scheme SpecR the ring R corresponds to what is the coordinate ring A(X) of an affine variety. Moreover we know by remark 2.3.14 that the coordinate ring of an affine variety is a finitely generated k-algebra that is a domain. So we have to write down conditions on a scheme that reflect the property that its local patches SpecR are not made from arbitrary rings, but rather from finitely generated k-algebras that are domains. Definition 5.3.4. Let Y be a scheme. A scheme over Y is a scheme X together with a morphism X → Y. A morphism of schemes X1, X2 over Y is a morphism of schemes X1 → X2 such that X1 / X2 ",127
"sequence of sheaves 0 → M˜ 1 → M˜ 2 → M˜ 3 → 0 is exact on X. (iii) For any R-modules M,N we have M˜ ⊕N˜ = (M ⊕N)˜. (iv) For any R-modules M,N we have M˜ ⊗N˜ = (M ⊗N)˜. (v) For any R-module M we have (M˜) ∨ = (M∨)˜. In particular, kernels, cokernels, direct sums, tensor products, and duals of quasi-coherent sheaves are again quasi-coherent on any scheme X. Proof. (i): Given a morphism M˜ → N˜ , taking global sections gives an R-module homomorphism M → N by proposition 7.2.2 (ii). Conversely, an R-module homomorphism M → N gives rise to morphisms between the stalks Mp → Np for all p, and therefore by definition determines a morphism M˜ → N˜",127
"and Y ⊂ A n be affine varieties, and let f : X → Y be a polynomial map, i. e. a map that can be written as f(P) = (f1(P),..., fn(P)) with fi ∈ k[x1,..., xm]. As f then pulls back polynomials to polynomials, we conclude first of all that f is continuous. Moreover, it then follows from lemma 2.3.4 (ii) that f is a morphism. In fact, we will show now that all morphisms between affine varieties are of this form. Lemma 2.3.7. Let X ⊂ A n and Y ⊂ A m be affine varieties. There is a one-to-one correspondence between morphisms f : X → Y and k-algebra homomorphisms f ∗ : A(Y) → A(X). Proof. Any morphism f : X → Y",127
"through any N given points. But N = d 2  −1 = d 2 2 − d 2 −1 is precisely the number of points we have. (Compare this argument to exercise 3.5.8 and the parametrization of cubic surfaces at the beginning of section 4.5.) Now compute the degree of the intersection scheme C ∩C 0 . By Bezout’s theorem, it ´ must be degC · degC 0 = d(d − 2). Counting the intersection points, we see that we have the d − 3 points Qi , and the d−1 2  + 1 points Pj that count with multiplicity at least 2 as they are singular points of C (see example 6.2.3). So we get deg(C∩C 0 ) ≥ (d −3) +2 d −1 2  +1  = d 2 −2d +1 > degC· degC 0 . By Bezout’s theorem it follows that ´ C and C 0 must have a common component. But C is irreducible of degree degC > degC",166
"the dual case to definition 7.1.7, namely cokernels. Again let f : F1 → F2 be a morphism of sheaves of e. g. Abelian groups on a topological space X. As above we define a presheaf coker0 f by setting (coker0 f)(U) = coker(fU : F1(U) → F2(U)) = F2(U)/im fU . Note however that coker0 f is not a sheaf. To see this, consider the following example. Let X = A 1\{0}, Y = A 2\{0}, and let i : X → Y be the inclusion morphism (x1) 7→ (x1,0). Let i # : OY → i∗OX be the induced morphisms of sheaves on Y of example 7.1.6, and consider the presheaf coker0 i # on Y. Look at the cover of Y by the affine open subsets U1 = {x1 6= 0} ⊂ Y and U2 = {x2 6= 0} ⊂ Y. Then the maps k  x1, 1 x1 , x2  = OY (U1) → OX (U1 ∩X) = k  x1,",166
") → H 0 (Y,TX |Y ) → H 0 (Y,NY/X ), but exactness need not be preserved in the last term: a surjective map E → F of vector bundles need not give rise to a surjective map H 0 (X,E) → H 0 (X,F) of global sections. An example is easily found: consider the morphism of vector bundles O ⊕O → O(2), (ϕ1,ϕ2) 7→ x 2 0ϕ1 +x 2 1ϕ2 on P 1 . This is obviously surjective in every fiber — for every point P = (x0 : x1) ∈ P 1 at least one of the coordinates is non-zero, so by picking suitable ϕ1(P) and ϕ2(P) we can get any number for x 2 0ϕ1(P) +x 2 1ϕ2(P). But the corresponding morphism of global sections H 0 (P 1 ,O ⊕O) → H 0 (P 1 ,O(2)) cannot be surjective simply for dimensional reasons, as the dimensions of these vector spaces are 2 and 3, respectively. It turns out however that there",166
"line bundle quotients Li . Then we can set αi = c1(Li), and the decomposition c(F) = ∏ r i=1 (1+αi) becomes an actual equation (and not just a formal one). The αi are usually called the Chern roots of F. Using the splitting construction and Chern roots, one can compute the Chern classes of almost any bundle that is constructed from other known bundles by standard operations: Proposition 10.3.10. Let X be a scheme, and let F and F0 be vector bundles with Chern roots (αi)i and (α 0 j )j , respectively. Then: (i) F ∨ has Chern roots (−αi)i . (ii) F ⊗F 0 has Chern roots (αi +α 0 j )i, j . (iii) S kF has Chern roots (αi1 +···+αik )i1≤···≤ik . (iv) Λ kF has Chern roots (αi1 +···+αik )i1<···<ik . Proof. (i): If F has a filtration 0 = F0 ⊂ F1 ⊂ ··· ⊂ Fr = F with line bundle quotients Li = Fi/Fi−1, then F ∨ has",166
"in this sequence is a 7→ (a,a) as it is the evaluation of the constant function a at the points P and Q. The second morphism is given by the “left, down, left” procedure of part (iii) of the proof of lemma 8.2.2 in the following diagram: 0 /C 0 (O(−2)) /  C 0 (O) /  C 0 (kP ⊕kQ) /  0 0 /C 1 (O(−2)) /C 1 (O) /C 1 (kP ⊕kQ) /0 Starting with any element (a,b) ∈ C 0 (kP ⊕kQ) we can find an inverse image in C 0 (O) = O(U0)×O(U1) (with Ui = {xi 6= 0}, namely the pair of constant functions (b,a) (as P ∈U1 and Q ∈ U0). Going down in the diagram yields the function a − b ∈ O(U0 ∩U1) by the definition of the boundary operator. Recalling that the morphism from O(−2) to O is given by multiplication with x0x1, we find that a−b x0x1 is the element in C 1 (O(−2))",166
"geometry: let P ∈C1 ∩C2 be a point. Then: (i) If C1 and C2 are smooth at P and have different tangent lines at P then P counts with multiplicity 1 (we say: the intersection multiplicity of C1 and C2 at P is 1). 6. First applications of scheme theory 97 (ii) IfC1 andC2 are smooth at P and are tangent to each other at P then the intersection multiplicity at P is at least 2. (iii) If C1 is singular and C2 is smooth at P then the intersection multiplicity at P is at least 2. (iv) If C1 and C2 are singular at P then the intersection multiplicity at P is at least 3. The key to proving these statements is the following. As the computation is local around P we can assume that the curves are affine in A 2 , that P = (0,0) is the origin, and that the two curves are given as the zero locus of one equation C1",166
"if and only if 3 P = P0. It then follows by corollary 6.4.4 that there are exactly 9 3-torsion points in PicC. Corollary 6.4.7. Let C ⊂ P 2 be a smooth cubic curve. Then any line through two inflection points of C passes through a third inflection point of C. Proof. Choose an inflection point P0 ∈ C as the zero element for the group structure on C. Now let P and Q be two inflection points, and let R = ϕ(P,Q) be the third intersection point of PQ with C. Then P+Q+R is the divisor of a linear function and hence equal to 3P0 in PicC. It follows that 3(R−P0) = 3(2P0 −P−Q) = 3(P0 −P) +3(P0 −Q) = 0 ∈ PicC. So 3 R = P0, i. e. R is an inflection point by lemma 6.4.6. Example 6.4.8. There is an interesting application of the group structure on a cubic curve to cryptography. The key observation is that “multiplication is easy, but",166
"so the relation f = 0 can be used to restrict the degrees in x2 of functions on X to at most d −1. Hence we get OX (U0 ∩U1) = ( x i 2 x j 0 x k 1 ; 0 ≤ i ≤ d −1 and i = j +k ) and OX (U0) = ( x i 2 x j 0 x k 1 ; 0 ≤ i ≤ d −1, k ≤ 0, and i = j +k ) (and similarly for OX (U1)). We conclude that H 1 (X,OX ) = ( x i 2 x j 0 x k 1 ; 0 ≤ i ≤ d −1, j > 0, k > 0, and i = j +k ) . To compute the dimension of this space note that for a given value of i (which can run from 0 to d −1) we get i−1 choices of j and k (namely (1,i−1),(2,i−2),...,(i−1,1)). So the total dimension is h",166
"00(s,t) h 00(s,t) with degg 00 −degh 00 = 2, so the result we get is f ∗OY (1) = OX (2). In the same way one shows that f ∗OY (n) = OX (dn) for all n ∈ Z and any morphism f : X → Y between projective schemes that is given by a collection of homogeneous polynomials of degree d. We have seen now that most sheaves occurring in practice are in fact quasi-coherent. So when we talk about sheaves from now on, we will usually think of quasi-coherent sheaves. This has the advantage that, on affine open subsets, sheaves (that form a somewhat complicated object) are essentially replaced by modules, which are usually much easier to handle. 7.3. Locally free sheaves. We now come to the discussion of locally free sheaves, i. e. sheaves that are locally just a finite direct sum of copies of the structure sheaf. These are the most important and best-behaved sheaves one can imagine. Definition 7.3.1. Let",166
"birational varieties), namely blow-ups. Construction 4.3.2. Let X ⊂ A n be an affine variety, and let f0,..., fr ∈ k[x1,..., xn] be polynomial functions that do not vanish identically on X. Then U = X\Z(f0,..., fr) is a non-empty open subset of X, and there is a well-defined morphism f : U → P r ,P 7→ (f0(P) : ··· : fr(P)). Now consider the graph Γ = {(P, f(P)) ; P ∈ U} ⊂ X ×P r which is isomorphic to U (with inverse morphism (P,Q) 7→ P). Note that Γ is in general not closed in X ×P r , because the points in X\U where (f0 : ··· : fr) is ill-defined as a point in P r are “missing”. The closure of Γ in X ×P r is called the blow-up of X in (f0,..., fr); we denote it by X˜. It is a closed subset of X × P r , and it is irreducible as Γ is; so it",166
"the points 1,...,2n, we go from one copy of the plane to the other. The way to draw this topologically is to cut the two planes along the lines [1,2],...,[2n−1,2n], and to glue the two planes along these lines as in this picture (lines marked with the same letter are to be identified): 2 Andreas Gathmann C C A B C D E F A B C D E F 2 3 4 5 6 1 1 2 3 4 5 6 glue To make the picture a little nicer, we can compactify our set by adding two points at infinity, in the same way as we go from C to C∞ by adding a point ∞. If we do this here, we end up with a compact surface with n−1 handles: add points at infinity Such an object is called a surface of genus n − 1; the example above shows a surface of genus 2. Example 0.1.2. Example 0.1.1 is a little “cheated” because we said before that we want to figure out the geometric structure of equations that we cannot solve explicitly. In the example however, the polynomial equation was chosen so that we could solve it, and in fact we used",205
"show that a global object ΩX/Y exists that restricts to the old definition 7.4.1 on affine open subsets. For applications, we will always use definition 7.4.1 and example 7.4.2 on open subsets. Remark 7.4.9. The sheaf ΩX/Y is always quasi-coherent: on affine open subsets it restricts to the sheaf associated to the module ΩR/S constructed above. Remark 7.4.10. Any morphism f : X → Y of schemes over a field induces a morphism of sheaves f ∗ΩY → ΩX on X that is just given by dϕ 7→ d(f ∗ϕ) = d(ϕ◦ f) for any function ϕ on Y. Proposition 7.4.11. An n-dimensional scheme X (of finite type over an algebraically closed field, e. g. a variety) is smooth if and only if ΩX is locally free of rank n. (Actually, this is a local statement: P ∈ X is a smooth point of X if and only if ΩX is (locally) free in a neighborhood of P.) Proof. One direction is obvious: if ΩX is locally free of rank n then its fibers at any point P, i. e. the cotangent spaces T ∨ X,P , have dimension n. By definition this means that P is a smooth point of X. Now let us",205
"1 (F ) d 1 −→ C 2 (F ) d 2 −→ ··· such that d p+1 ◦ d p = 0 at every step. Such a sequence is usually called a complex of Abelian groups. The maps d p are then called the boundary operators. Definition 8.1.4. Let F be a sheaf on a scheme X. Pick an affine open cover {Ui} of X and consider the associated groups C p (F ) and homomorphisms d p : C p (F ) → C p+1 (F ) for p ≥ 0. We define the p-th cohomology group of F to be H p (X,F ) = kerd p /imd p−1 with the convention that C p (F ) and d p are zero for p < 0. Note that this is well-defined as imd p−1 ⊂ kerd p by lemma 8.1.3. If X is a scheme over a field k then the cohomology groups will be vector spaces over k. The dimension of the cohomology groups H i (X,F ) as a k-vector space is then denoted h i (X,F ). Remark 8.1.5. The definition of the cohomology groups as it stands depends on the choice of the affine open cover of X.",205
"have now used a linear projection to map the real 3-dimensional space onto the drawing plane. We see that there are some lines contained in S. In fact, one can show that every smooth cubic surface has exactly 27 lines on it (see section 4.5 for details). This is another sort of question that one can ask about the solutions of polynomial equations, and that is not of topological nature: do they contain curves with special properties (in this case lines), and if so, how many? This branch of algebraic geometry is usually called enumerative geometry. Remark 0.1.8. It is probably surprising that algebraic geometry, in particular enumerative geometry, is very much related to theoretical physics. In fact, many results in enumerative geometry have been found by physicists first. Why are physicists interested e. g. in the number of lines on the cubic surface? We try to give a short answer to this (that is necessarily vague and incomplete): There is a branch of theoretical physics called string theory whose underlying idea is that the elementary 0. Introduction 5 particles (electrons, quarks,. . . ) might not be point-like, but rather one-dimensional objects (the so-called strings), that are just so small that their one-dimensional structure",205
"in the fiber q −1 (0). The following picture illustrates the geometric situation. 208 Andreas Gathmann IP 1 IP X/Y +OX (N ) 8 0 Y X X X Y Y ~ M q P= The idea of the proof is now simply the following: we have to prove an equality in the Chow groups, i. e. modulo rational equivalence. The fibers q −1 (0) and q −1 (∞) are rationally equivalent as they are the zero resp. pole locus of a rational function on the base P 1 , so they are effectively “the same” for intersection-theoretic purposes. But example 10.5.7 shows that the proposition is true in the fiber q −1 (0), so it should be true in the fiber q −1 (∞) as well. To be more precise, let F be a sheaf on X as in the proposition. Denote by pX : X ×P 1 → X the projection, and by iX : X ×P 1 → M the inclusion discussed above. Then iX ∗ p ∗ X F is a coherent sheaf on M that can be thought of as “the sheaf F on X in every fiber of q”. By lemma 10.5.3 we can choose a locally free resolution",205
"Zn−1(X). Obviously, the Weil divisors form an Abelian group. Two Weil divisors are called linearly equivalent if they define the same class in An−1(X). The quotient group An−1(X) is called the group of Weil divisor classes. (ii) Let KX be the sheaf of rational functions on X, and denote by K ∗ X the subsheaf of invertible elements (i. e. of those functions that are not identically zero on any component of X). Note that K ∗ X is a sheaf of Abelian groups, with the group structure given by multiplication of rational functions. Similarly, let O ∗ X be the sheaf of invertible elements of OX (i. e. of the regular functions that are nowhere zero). Note that O ∗ X is a sheaf of Abelian groups under multiplication as well. In fact, O ∗ X is a subsheaf of K ∗ X . A Cartier divisor on X is a global section of the sheaf K ∗ X /O ∗ X . Obviously, the Cartier divisors form an Abelian group under multiplication, denoted DivX. In analogy to Weil divisors the group structure on DivX is usually written additively however. A Cartier divisor is called linearly equivalent to zero if it is induced by",205
"move the first H to a different line H 0 which is linearly equivalent to H. So we see that H · H = H 0 · H = 1, a 182 Andreas Gathmann H 0 ∩H is just one point. Note however that it may not always be possible to find such a linearly equivalent divisor that makes the intersection have the expected dimension. (ii) If the strategy of (i) does not work or one does not want to apply it, there is also a different description of the intersection product for which no moving of W is necessary. Let us assume for simplicity that W is smooth. By the analogue of remark 7.4.17 for general hypersurfaces the bundle i ∗OX (W) (where i : V → X is the inclusion morphism) is precisely the restriction to V of the normal bundle NW/X of W in X. By definition 9.4.1 the intersection product W ·V is then the Weil divisor associated to this bundle, i. e. the locus of zeros minus poles of a rational section of the normal bundle NW/X restricted to V. X P1 P2 V=W W V. [ P1 ] +[ P2 = ] Note that we can consider this procedure",205
"⊂ P 0 ⊂ P 1 ⊂ ··· ⊂ P n = X. We claim that then Ak(X) is isomorphic to Z ak modulo some (possibly trivial) subgroup, where Z ak is generated by the classes of the closures of the ak copies of A k mentioned above. We will prove this by induction on dimX, the case of dimension 0 being obvious. In fact, consider the exact sequence of lemma 9.1.13 Ak(Xn−1) → Ak(X) → ⊕an i=1Ak(A n ) → 0. Note that Xn−1 itself is a scheme with a filtration 0/ = X−1 ⊂ X0 ⊂ ··· ⊂ Xn−1 as above. So it follows that: (i) For k < n we have Ak(A n ) = 0, so Ak(X) is generated by Ak(Xn−1). Hence the claim follows from the induction hypothesis. (ii) For k ≥ n we have Ak(Xn−1) = 0, so An(X) ∼= ⊕ an i=1Ak(A n ) is generated by the classes of the closures of the an copies of A n in X\Xn−1. 9. Intersection theory 171 This proves the claim. In fact, one can show that Ak(X) is always isomorphic to Z ak if X has a stratification by affine spaces as above (see [F] example 1.9.1). In particular,",205
"= I(X) = I(C(X)) = I(Za(I)) = √ I by lemma 3.2.4 and the affine Nullstellensatz of proposition 1.2.9 (iii). (iv): If Zp(I) is empty, then Za(I) is either empty or just the origin. So corollary 1.2.10 tells us that I = (1) or √ I = (x0,..., xn). In any case, this means that x ki i ∈ I for some ki , so (x0,..., xn) k0+···+kn ⊂ I. Theorem 3.2.6. There is a one-to-one inclusion-reversing correspondence between algebraic sets in P n and homogeneous radical ideals in k[x0,..., xn] not equal to (x0,..., xn), given by the operations Z(·) and I(·). Proof. Immediately from proposition 3.2.5. 3.3. Projective varieties as ringed spaces. So far we have defined projective varieties as topological spaces. Of course we want to make them into ringed spaces and finally show that they are varieties in the sense of definitions 2.4.1 and 2.5.1. So let X ⊂ P n be a projective variety. First of all we have to make X into a ringed space whose structure sheaf is a sheaf of k-valued functions. The construction is completely analogous to the affine case discussed in section 2.1. Definition 3.3.1. The ring S(X) := k[x0,..., xn]/I(X) is called the homogeneous",205
"1−exp(−αi) , where the expressions in the αi are to be understood as formal power series, i. e. exp(αi) = 1+αi + 1 2 α 2 i + 1 6 α 3 i +··· and αi 1−exp(−αi) = 1+ 1 2 αi + 1 12 α 2 i +··· . Remark 10.4.3. As usual we can expand the definition of ch(F) and td(F) to get symmetric polynomials in the Chern roots which can then be written as polynomials (with rational coefficients) in the Chern classes ci = ci(F) of F. Explicitly, ch(F) = r +c1 + 1 2 (c 2 1 −2c2) + 1 6 (c 3 1 −3c1c2 +3c3) +··· and td(F) = 1+ 1 2 c1 + 1 12 (c 2 1 +c2) + 1 24 c1c2 +··· . Remark 10.4.4. If 0 → F 0 → F → F 00 → 0 is an exact sequence of vector bundles on X then the Chern roots of F are just the union of the Chern roots of F 0 and F 00. So we see that ch(F) = ch(F 0 ) +ch(F 00) and td(F) = td(F 0 )·td(F 00). We can now state the Hirzebruch-Riemann-Roch theorem: Theorem 10.4.5. (Hirzebruch-Riemann-Roch theorem) Let F",205
"in pt. These counterexamples can be generalized by saying that in general there should be no points “missing” in the domain of the morphism f : X → Y for which we are looking for a push-forward f∗. For example, if Y is the one-pointed space, by “no points missing” we mean exactly that X should be compact (in the classical topology), i. e. complete in the sense of remark 3.4.5. For general Y we need a “relative version” of this compactness (resp. completeness) condition. Morphisms satisfying this condition are called proper. We will give both the topological definition (corresponding to “compactness”) and the algebraic definition (corresponding to “completeness”). Definition 9.2.2. (Topological definition:) A continuous map f : X → Y of topological spaces is called proper if f −1 (Z) is compact for every compact set Z ⊂ Y. (Algebraic definition:) Let f : X → Y be a morphism of “nice” schemes (separated, of finite type over a field). For every morphism g : Z → Y from a third scheme Z form the fiber diagram X ×Y Z / f 0  X f  Z g /Y. 172 Andreas Gathmann The morphism f is said to be proper if the induced morphism f 0 is closed for every such g : Z → Y, i. e. if f 0 maps closed subsets of X ×Y Z to closed subsets of Z. This condition is sometimes expressed by saying that f",244
"the divisors do not intersect in dimension zero). 188 Andreas Gathmann 10. CHERN CLASSES For any vector bundle π : F → X of rank r on a scheme X we define an associated projective bundle p : P(F) → X whose fibers p −1 (P) are just the projectivizations of the affine fibers π −1 (P). We construct natural line bundles OP(F) (d) on P(F) for all d ∈ Z that correspond to the standard line bundles O(d) on projective spaces. As in the case of vector bundles there are pull-back homomorphisms A∗(X) → A∗(P(F)) between the Chow groups. For a bundle as above we define the i-th Segre class si(F) : A∗(X) → A∗−i(X) by si(F)·α = p∗(D r−1+i F · p ∗α), where DF denotes the Cartier divisor associated to the line bundle OP(F) (1). The Chern classes ci(F) are defined to be the inverse of the Segre classes. Segre and Chern classes are commutative; they satisfy the projection formula for proper push-forwards and are compatible with pull-backs. They are multiplicative on exact sequences. Moreover, ci(F) = 0 for i > r. The top Chern class cr(F) has the additional geometric interpretation as the zero locus of a section of F. Using the technique of Chern roots one can compute the Chern classes of almost any bundle that is constructed from known bundles in some way (e. g. by means of direct sums, tensor products, dualizing, exact sequences, symmetric and exterior",244
": 1),(1 : 1)} ⊂ P 1 be three collinear points. Then I(X) = (x0x1(x0 −x1)). The relation x 2 0 x1 = x0x 2 1 allows us to reduce the number of x0 in a monomial x i 0 x j 1 provided that i ≥ 2 and j ≥ 1. So a basis of S(X) (d) is given by {1} for d = 0, {x0, x1} for d = 1, and {x d 0 , x0x d−1 1 , x d 1 } for d > 1. Hence hX (d) =    1 for d = 0, 2 for d = 1, 3 for d > 1. It is easy to see that we get the same result for three collinear points in P 2 . So comparing this with (ii) we conclude that the Hilbert function does not only depend on the scheme X up to isomorphism, but also on the way the scheme is embedded into projective space. (iv) Let X ⊂ P 1 be the “double point” given by the ideal I(X) = (x 2 0 ). A basis of S(X) (d) is given by {1} for d = 0 and {x0x d−1 1 , x d 1 } for d > 0, so it follows that hX (d) = ( 1 for d = 0, 2 for d > 0. just as in (i). So the double point “behaves like two separate points” for the Hilbert",244
"of unity. So by allowing permutations of the coordinates we find that there are exactly the following 27 lines on X: x0 +x1ω i = x2 +x3ω j = 0, 0 ≤ i, j ≤ 2, x0 +x2ω i = x1 +x3ω j = 0, 0 ≤ i, j ≤ 2, x0 +x3ω i = x1 +x2ω j = 0, 0 ≤ i, j ≤ 2. Remark 4.5.5. We will now study to a certain extent the configuration of the 27 lines on a cubic surface, i. e. determine which of the lines intersect. Consider the special cubic X of the proof of theorem 4.5.4, and let L be the line L = {x0 +x1 = x2 +x3 = 0} in X. Then we can easily check that L meets exactly 10 of the other lines in X, namely x0 +x1ω i = x2 +x3ω j = 0, (i, j) 6= (0,0) x0 +x2 = x1 +x3 = 0, x0 +x3 = x1 +x2 = 0. The same is true for every other line in X. In fact, the statement is also true for every smooth cubic surface, and not just for the special one that we have just considered. The proof of this is very similar to the proof above that the number of lines on a smooth cubic surface does not depend on the particular cubic chosen. Now let L1 and L2 be two disjoint lines on a smooth cubic surface X.",244
"dimZ1 = dimX −1. Let g ∈ k[x1,..., xn] be a polynomial that vanishes on Z2,...,Zr but not on Z1, and let U = Xg = X\Z(g). Then U is an affine variety by lemma 2.3.16, and U ∩ Z(f) has only one component Z1 ∩U. So the statement follows from proposition 4.2.4 together with proposition 4.2.1. Remark 4.2.6. Proposition 4.2.1 and especially corollary 4.2.5 are the main properties of the dimension of varieties. Together they allow to compute the dimension of almost any variety without the need to go back to the cumbersome definition. Here are two examples: Corollary 4.2.7. Let f : X →Y be a morphism of varieties, and assume that the dimension of all fibers n = dim f −1 (P) is the same for all P ∈ Y . Then dimX = dimY +n. Proof. We prove the statement by induction on dimY; there is nothing to show for n = 0 (i. e. if Y is a point). 4. Dimension 57 By proposition 4.2.1 we can assume that Y ⊂ A m is an affine variety. Let f ∈ k[x1,..., xm] be any non-zero polynomial in the coordinates of A m that vanishes somewhere, but not everywhere on Y, let Y 0 ⊂ Y be an irreducible component of Y ∩Z(f), and let X 0 = f −1 (Y 0 ). Then it follows by corollary 4.2.5 and the induction hypothesis that dimX = dimX 0 +1 =",244
"2 −x 2 − x 3 4 +1 = 0 We want to know the maximum number of such components that a real smooth curve of degree d can have. One way of constructing curves with many components is to start with a singular curve, and then to deform the equation a little bit to obtain a smooth curve. The following example starts with a reducible quartic curve and deforms it into a smooth curve with two and four components, respectively. ( x 2 4 +y 2 −4)(x 2 + y 2 4 −4) = 0 ( x 2 4 +y 2 −4)(x 2 + y 2 4 −4) = 1 ( x 2 4 +y 2 −4)(x 2 + y 2 4 −4) = −1 As in the complex case, it is more convenient to pass to the projective plane P 2 R instead of A 2 R . This will add points at infinity of the curves so that every component becomes a loop (i. e. it has no ends). For example, in the two cubic curves above one point each is added to the curves, so that the components extending to infinity become a loop. We are therefore asking for the maximum number of loops that a projective smooth real plane curve of degree d can have. There is an extra topological twist in P 2 R that we have not encountered before. As usual, we construct P 2 R by",244
"a cone). Remark 3.2.2. In other words, a cone is an algebraic set in A n+1 that can be written as a (usually infinite) union of lines through the origin. The cone over a projective algebraic set X ⊂ P n is the inverse image of X under the projection map A n+1\{0} → (A n+1\{0})/(k\{0}) = P n , together with the origin. Example 3.2.3. The following picture shows an example of a (two-dimensional) cone C(X) in A 3 over the (one-dimensional) projective variety X in H = P 2 : x0 L1 L2 /A3 H X C(X) 40 Andreas Gathmann (C(X) consists only of the “boundary” of the cone, not of the “interior”.) Note that C(X) contains the two lines L1 and L2, which correspond to “points at infinity” of the projective space P 2 . Lemma 3.2.4. (i) Let I ( k[x0,..., xn] be a homogeneous ideal. If X = Zp(I) ⊂ P n , then C(X) = Za(I) ⊂ A n+1 . (ii) Conversely, if X ⊂ P n is a projective algebraic set and I(X) ⊂ k[x0,..., xn] is its homogeneous ideal, then I(C(X)) = I(X). In other words, there is a one-to-one correspondence between projective algebraic sets in P n and affine cones in A n+1 , given by taking the zero locus of the same homogeneous ideal (not equal to (1)) either in P n or in A n+1 . Proof. This is obvious from the definitions.",244
"ring of an affine variety X and p is a maximal ideal (i. e. a point in X), then k(p) = k and the value of an element f ∈ R as defined above is equal to the value of f at the point corresponding to p in the classical sense. If p ⊂ R is not maximal and corresponds to some subvariety Y ⊂ X, the value f(p) lies in the function field K(Y) and can be thought of as the restriction of the function f to Y. Example 5.1.4. (i) If k is a field, then Spec k consists of a single point (0). (ii) The space SpecC[x] (that will correspond to the affine variety A 1 over C) contains a point (x − a) for every a ∈ A 1 , together with a point (0) corresponding to the subvariety A 1 . (iii) More generally, if R = A(X) is the coordinate ring of an affine variety X over an algebraically closed field, then the set SpecR contains a point for every closed subvariety of X (as subvarieties correspond exactly to prime ideals). This affine scheme SpecR will be the analogue of the affine variety X. So an affine scheme has “more points” than the corresponding affine variety: we have enlarged the set by throwing in an additional point for every closed subvariety Y of X. This point is usually called the generic point (or general point) of Y. In",244
"PR = P 1 lies in Q. This whole line would then be mapped to R, so that we cannot have an isomorphism. But of course we expect again that this problem can be taken care of by blowing up R in P 2 , so that it is replaced by a P 1 that can then be mapped one-to-one to PR. There are obviously two such lines PR1 and PR2, given by R1 = (0 : 1 : 0) and R2 = (0 : 0 : 1). If you think of Q as P 1 × P 1 again, these lines are precisely the “horizontal” and “vertical” lines P 1 × {point} and {point}×P 1 passing through P. So we would expect that π˜ can be made into an isomorphism after blowing up R1 and R2, which is what we have shown in lemma 4.3.12. R1 R2 PI 2 Q P P’ π(P’) 4.4. Smooth varieties. Let X ⊂ A n be an affine variety, and let P ∈ X be a point. By a change of coordinates let us assume that P = (0,...,0) is the origin. In remark 4.3.8 we have defined the tangent cone of X in P to be the closed subset of A n given by the initial ideal of X, i. e. the “local approximation” of X around P given by keeping only the terms of the defining equations of X of minimal degree. Let us now",244
"Fix once and for all two complex numbers ω1,ω2 ∈ C that are linearly independent over R, i. e. that do not lie on the same real line in C through the origin. Then the subset Λ = Zω1 +Zω2 = {mω1 +nω2 ; m,n ∈ Z} ⊂ C is called a lattice in C. Obviously, the same lattice in C can be obtained by different choices of ω1 and ω2. The constructions that we will make in this section will only depend on the lattice Λ and not on the particular choice of basis ω1,ω2. Im z Re z ω ω 1 2 Proposition and Definition 6.5.3. Let Λ = Zω1 + Zω2 be a lattice in C. There is a meromorphic function℘(z) on C defined by ℘(z) = 1 z 2 + ∑ ω∈Λ\{0}  1 (z−ω) 2 − 1 ω2  . It is called the Weierstraß℘-function. It has poles of order 2 exactly at the lattice points. Proof. It is a standard fact that an (infinite) sum of holomorphic functions is holomorphic at z0 provided that the sum converges uniformly in a neighborhood of z0. We will only sketch the proof of this convergence: let z0 ∈ C\Λ be a fixed point that is not in the lattice. Then every summand is a holomorphic function in a neighborhood of z0. The expansions 110 Andreas Gathmann of these summands for large ω are 1 (z0 −ω) 2 − 1 ω2 =",244
"C2 genus = g1 + g2 C3 2 + g3 genus = g +1 1 + g genus = g1 +1 Proposition 8.3.7. Let X ⊂ P 2 be a (possibly singular) curve of degree d, given as the zero locus of a homogeneous polynomial f of degree d. Then the genus of X is equal to 1 2 (d −1)(d −2). Proof. Let x0, x1, x2 be the coordinates of P 2 . By a change of coordinates we can assume that the point (0 : 0 : 1) is not on X. Then the affine open subsets U0 = {x0 6= 0} and U1 = {x1 6= 0} cover X. So in the same way as in the proof of proposition 8.3.1 we get H 1 (X,OX ) = OX (U0 ∩U1)/(OX (U0) +OX (U1)). Moreover, the equation of f must contain an x d 2 -term, so the relation f = 0 can be used to restrict the degrees in x2 of functions on X to at most d −1. Hence we get OX (U0 ∩U1) = ( x i 2 x j 0 x k 1 ; 0 ≤ i ≤ d −1 and i = j +k ) and OX (U0) = ( x i 2 x j 0 x k 1 ; 0 ≤ i ≤ d −1, k ≤ 0, and i = j +k ) (and similarly for OX (U1)). We conclude that H 1 (X,OX ) = ( x i 2 x j 0 x k 1 ; 0 ≤ i ≤ d −1, j > 0, k > 0, and i = j +k ) . To compute the dimension of this space",283
"of the form (P, x) 7→ (P,Ψi, jx) where P ∈ U, x = (x1,..., xr) ∈ A r , and the Ψi, j are r ×r matrices with entries in OX (Ui ∩Uj). Then the projective bundle P(F) is defined by glueing the patches Ui × P r−1 along the same transition functions, i. e. by glueing Ui ×P r−1 to Uj ×P r−1 along the isomorphisms (Ui ∩Uj)×P r−1 → (Ui ∩Uj)×P r−1 , (P, x) 7→ (P,Ψi, jx) for all i, j, where P ∈ Ui ∩Uj and x = (x1 : ··· : xr) ∈ P r−1 . We say that P(F) is a projective bundle of rank r −1 on X. 10. Chern classes 189 Note that in the same way as for vector bundles there is a natural projection morphism p : P(F) → X that sends a point (P, x) to P. In contrast to the vector bundle case however the morphism p is proper (which follows easily from exercise 9.5.5). Example 10.1.2. Let X = P 1 , and let F be the vector bundle (i. e. locally free sheaf) OX ⊕OX (−1) on X. Then P(F) is a projective bundle of rank 1 on X, so it is a scheme of dimension 2. We claim that P(F) is isomorphic to the blow-up P˜ 2 of the projective plane in a point P. In fact, this can be checked directly: by definition 10.1.1 P(F) is obtained by glueing two copies U1,U2 of A 1 ×P 1 along the isomorphism (A 1 \{0})×P 1 → (A 1 \{0})×P 1 , (z,(x1 : x2)) 7→ ( 1 z ,(x1 : zx2)). On the other hand, P˜ 2",283
"right square. The homomorphisms χ and τ are explained in example 10.5.2, and deg denotes the degree of the dimension-0 part of a cycle class. The Hirzebruch-Riemann-Roch theorem for P n of corollary 10.5.4 says precisely that this right square is commutative. Now consider the left square. The homomorphism τ is as above, and the i∗ in the bottom row is the proper push-forward of cycles of corollary 9.2.12. We have to explain the pushforward i∗ in the top row. Of course we would like to define i∗[F] = [i∗F] for any vector bundle F on X, but we cannot do this directly as i∗F is not a vector bundle but only a coherent sheaf on P n . So instead we let 0 → Fr → Fr−1 → ··· → F0 → i∗F → 0 (∗) be a locally free resolution of the coherent sheaf i∗F on P n and set i∗ : K ◦ (X) → K ◦ (P n ), i∗([F]) = r ∑ k=0 (−1) k [Fk]. One can show that this is indeed a well-defined homomorphism of groups (i. e. that this definition does not depend on the choice of locally free resolution), see [F] section B.8.3. But in fact we do not really need to know this: we do know by the long exact cohomology sequence applied to (∗) that χ(X,F) = r ∑ k=0 (−1) k χ(P n ,Fk), 206 Andreas Gathmann so it is clear that at least the composition χ◦i∗ does not depend on the choice of locally free resolution. The Hirzebruch-Riemann-Roch theorem on X is now precisely the statement that the outer rectangle in the above diagram is commutative. As we know already",283
"grow like ω 3 . Let us add up these values according to the absolute value of ω. As the number of lattice points with a given absolute value (approximately) equal to N grows linearly with N, the final sum behaves like ∑N N · 1 N3 = ∑N 1 N2 , which is convergent. Note that the sum would not have been convergent without subtraction of the constant 1 ω2 in each summand, as then the individual terms would grow like 1 ω2 and therefore the final sum would be of the type ∑N 1 N , which is divergent. Remark 6.5.4. It is a standard fact that in an absolutely convergent series as above all manipulations (reordering of the summands, term-wise differentiation) can be performed as expected. In particular, the following properties of the℘-function are obvious: (i) The℘-function is an even function, i. e.℘(z) =℘(−z) for all z ∈ C. In particular, its Laurent series at 0 contains only even exponents. (ii) Its derivative is℘0 (z) = ∑ω∈Λ −2 (z−ω) 3 . It is an odd function, i. e.℘0 (z) = −℘0 (−z). In particular, its Laurent series at 0 contains only odd exponents. It has poles of order 3 exactly at the lattice points. (iii) The℘-function is doubly periodic with respect to Λ, i. e.℘(z0) =℘(z0+ω) for all z0 ∈ C and ω ∈ Λ. To show this note first that it is obvious from (ii) that℘0 (z0) = ℘0 (z0 + ω). Now integrate ℘0 (z) along the closed contour γ = γ1 + γ2 + γ3 + γ4 shown in this picture: γ 1 γ 2 γ 3 γ 4 0 z z 0 + ω ω_ −",283
"sheaf is a sheaf of k-valued functions and) that is locally isomorphic to an affine variety. Correspondingly, there is a general way to construct prevarieties and morphisms between them by taking affine varieties (resp. morphisms between them) and patching them together. Affine varieties and their open subsets are simple examples of prevarieties, but we also get more complicated spaces as e. g. P 1 and the affine line with a doubled origin. A prevariety X is called a variety if the diagonal ∆(X) ⊂ X ×X is closed, i. e. if X does not contain “doubled points”. 2.1. Functions on affine varieties. After having defined affine varieties, our next goal must of course be to say what the maps between them should be. Let us first look at the easiest case: “regular functions”, i. e. maps to the ground field k = A 1 . They should be thought of as the analogue of continuous functions in topology, or differentiable functions in real analysis, or holomorphic functions in complex analysis. Of course, in the case of algebraic geometry we want to have algebraic functions, i. e. (quotients of) polynomial functions. Definition 2.1.1. Let X ⊂ A n be an affine variety. We call A(X) := k[x1,..., xn]/I(X) the coordinate ring of X. Remark 2.1.2. The coordinate ring of X should be thought of as the ring of polynomial functions on X. In fact, for any P ∈ X an element f ∈ A(X) determines a polynomial map X → k (usually also denoted by f) given by f 7→ f(P): • this is well-defined, because all functions in I(X) vanish on X by definition, • if the function f : X → k",283
"In fact, there are whole books on Riemann-Roch type theorems. Let us mention some of the generalizations without proof: (i) The requirement that the ground field be C is not essential. The very same statement holds over any algebraically closed ground field (the proof has to be changed though at step 2 where we invoked complex analysis). (ii) The requirement that the curve be projective is not essential either, it only needs to be complete (i. e. “compact”). 146 Andreas Gathmann (iii) Instead of a line bundle one can take a vector bundle: if F is any vector bundle on X of rank r then h 0 (F )−h 0 (ωX ⊗F ∨ ) = degΛ rF +r(1−g) (see example 10.4.7). (iv) There are versions of the Riemann-Roch theorem for singular curves as well. (Note that in the singular case we do not have a canonical bundle, so one needs a new idea here.) (v) There are also versions of the Riemann-Roch theorem for varieties of dimension bigger than 1 (see theorem 10.4.5). (vi) Finally, the same theorem can be proven (with the same proof actually) in complex analysis, where h 0 (D) then denotes the dimension of the space of meromorphic functions with the specified zeros and poles. As the resulting dimension does change we conclude that on a projective smooth complex curve every meromorphic function is in fact rational. This is an example of a very general result that says that complex analysis essentially reduces to algebraic geometry in the projective case (in other words, we “do not gain much” by allowing holomorphic functions instead of rational ones in the first place). As an application of the Riemann-Roch theorem let us",283
"general point) of Y. In other words, in the scheme corresponding to an affine variety with coordinate ring R we will have a point for every prime ideal in R, and not just for every maximal ideal. These additional points are sometimes important, but quite often one can ignore this fact. Many textbooks will even adopt the convention that a point of a scheme is always meant to be a point in the old geometric sense (i. e. a maximal ideal). (iv) In contrast to (ii), the affine scheme SpecR[x] contains points that are not of the form (x−a) or (0), e. g. (x 2 +1) ∈ SpecR[x]. (v) The affine scheme SpecZ contains an element for every prime number, and in addition the generic point (0). 76 Andreas Gathmann So far we have defined SpecR as a set. This is not particularly interesting, so let us move on and make SpecR into a topological space. This is done in the same way as for affine varieties. Definition 5.1.5. Let R be a ring. For every subset S ⊂ R, we define the zero locus of S to be the set Z(S) := {p ∈ SpecR ; f(p) = 0 for all f ∈ S} ⊂ SpecR, where f(p) is the value of f at p as in remark 5.1.3. (Obviously, S and (S) define the same zero locus, so we will usually only consider zero loci of ideals.) Remark 5.1.6. By the definition of the value of an element f ∈ R at a point p ∈ SpecR, we can also write the definition of the zero locus as Z(S) = {p ∈ SpecR ; f ∈ p for all f ∈",283
"degree over the prime field Q or Fp. Corollary 1.2.6. Assume that k is algebraically closed. (i) There is a 1:1 correspondence {points in A n} ←→ {maximal ideals of k[x1,..., xn]} given by (a1,...,an) ←→ (x1 −a1,..., xn −an). (ii) Every ideal I ( k[x1,..., xn] has a zero in A n . Proof. (i) is obvious from the Nullstellensatz, and (ii) follows in conjunction with lemma 1.1.6 (i) as every ideal is contained in a maximal one. Example 1.2.7. We just found a correspondence between points of A n and certain ideals of the polynomial ring. Now let us try to extend this correspondence to more complicated algebraic sets than just points. We start with the case of a collection of points in A 1 . (i) Let X = {a1,...,ar} ⊂ A 1 be a finite algebraic set. Obviously, I(X) is then generated by the function (x − a1)···(x − ar), and Z(I(X)) = X again. So Z is an inverse of I. (ii) Conversely, let I ⊂ k[x] be an ideal (not equal to (0) or (1)). As k[x] is a principal ideal domain, we have I = (f) for some non-constant monic function f ∈ k[x]. Now for the correspondence to work at all, we have to require that k be algebraically closed: for if f had no zeros, we would have Z(I) = 0/, and I(Z(I)) = (1) would give us back no information about I at all. But if k is algebraically closed, we can write f = (x − a1) m1 ···(x − ar) mr with the ai distinct and mi > 0. Then Z(I) = {a1,...,ar} and therefore I(Z(I)) is generated by (x−a1)···(x−ar), i.",283
"in this way. But F (Uk) = Mk and F (Ui ∩Uk) = (Mk)xi by proposition 7.2.2 (ii), so si, j ∈ F (Ui ∩Uk) ∈ (Mk)xi obviously gives an element in F (Uk) = Mk after multiplying with a sufficiently high power of xi . Hence we have shown that for some d we get global sections si, j ∈ Γ(F ⊗OX (d)) that generate the stalk of F ⊗ OX (d) at all points of X. So these sections define a surjective morphism O → F ⊗OX (d) ⊕n (where n is the total number of sections chosen) and hence a surjective morphism OX (−d) ⊕n → F . Theorem 8.4.7. Let X be a projective scheme over a field, and let F be a coherent sheaf on X. (i) The cohomology groups Hi (X,F ) are finite-dimensional vector spaces for all i. (ii) We have Hi (X,F ⊗OX (d)) = 0 for all i > 0 and d 0. Proof. Let i : X → P r be the inclusion morphism. As i∗F is coherent by proposition 7.2.9 (or rather its analogue for coherent sheaves) and the cohomology groups of F and i∗F agree by definition, we can assume that X = P r . We will prove the proposition by descending induction on i. By example 8.1.6 (iii) there is nothing to show for i > r. By lemma 8.4.6 there is an exact sequence 0 → R → OX (−d) ⊕n → F → 0 for some d and n, where R is a coherent sheaf on X by lemma 7.2.7. Tensoring with OX (e) for some e ∈ Z and taking the corresponding long exact cohomology sequence,",283
"from X˜ ⊂ X × P r → P r . So blowing up is a way to extend morphisms to bigger sets on which they would otherwise be ill-defined. The same is true for projective varieties and the construction at the end of remark 4.3.10. Let us consider a concrete example of this idea in the next lemma and the following remark: Lemma 4.3.12. P 1 ×P 1 blown up in one point is isomorphic to P 2 blown up in two points. Proof. We know from example 3.3.14 that P 1 ×P 1 is isomorphic to the quadric surface Q = {(x0 : x1 : x2 : x3) ; x0x3 = x1x2} ⊂ P 3 . Let P = (0 : 0 : 0 : 1) ∈ Q, and let Q˜ ⊂ P 3 × P 2 be the blow-up of Q in the ideal I(P) = (x0, x1, x2). On the other hand, let R1 = (0 : 1 : 0),R2 = (0 : 0 : 1) ∈ P 2 , and let P˜ 2 ⊂ P 2 × P 3 be the blow-up of P 2 in the ideal I = (y 2 0 , y0y1, y0y2, y1y2). Note that this is not quite the ideal I(R1 ∪R2) = (y0, y1y2), but this does not matter: the blow-up is a local construction, so let us check that we are doing the right thing around R1. There is an open affine neighborhood around R1 given by y1 6= 0, and on this neighborhood the ideal I is just (y 2 0 , y0, y0y2, y2) = (y0, y2), which is precisely the ideal of R1. The same is true for",283
"Morphisms and locally ringed spaces. As in the case of varieties, the next step after defining regular functions on an affine scheme is to define morphisms between them. Of course one is tempted to define a morphism f : X → Y between affine schemes to be a morphism of ringed spaces as in definition 2.3.1, but recall that for this definition to work we needed a notion of pull-back f ∗ of regular functions. In the case of varieties we got this by requiring that the structure sheaves be sheaves of k-valued functions, so that a settheoretic pull-back exists. But this is not possible for schemes, as we do not have a ground field, and the values ϕ(p) of a regular function ϕ lie in unrelated rings. Even worse, we have seen already in example 5.1.13 that a regular function is not determined by its values on points. The way out of this dilemma is to make the pull-back maps f ∗ : OY (U) → OX (f −1 (U)) part of the data required to define a morphism. Hence we say that a morphism f : X → Y between affine schemes is given by a continuous map f : X → Y between the underlying topological spaces, together with pull-back maps f ∗ = f ∗ U : OY (U) → OX (f −1 (U)) for every open subset U ⊂ Y. Of course we need some compatibility conditions among the f ∗ U . The most obvious one is compatibility with the restriction maps, i. e. f ∗ V ◦ ρU,V = ρf −1(U), f −1(V) ◦ f ∗ U . But we also need some sort of compatibility between the f ∗ U and the continuous map f . To explain this condition, note that the maps f ∗ U give rise to a map between the stalks f ∗ P : OY, f(P) → OX,P, (U,ϕ)",322
"corresponding one for the affine open patches that we have just shown. Remark 3.4.5. Corollary 3.4.4 is in fact the property of P n that captures the idea of compactness (as we will see in corollary 3.4.7). Let us therefore give it a name: we say that a variety X is complete if the projection map π : X ×Y → Y is closed for every variety Y. (You can think of the name “complete” as coming from the geometric idea that it contains all the “points at infinity” that were missing in affine varieties.) So corollary 3.4.4 says that P n is complete. Moreover, any projective variety Z ⊂ P n is complete, because any closed set in Z ×Y is also closed in P n ×Y, so its image under the projection morphism to Y will be closed as well. Remark 3.4.6. We have just seen that every projective variety is complete. In fact, whereas the converse of this statement is not true, it is quite hard to write down an example of a complete variety that is not projective. We will certainly not meet such an example in the near future. So for practical purposes you can usually assume that the terms “projective variety” and “complete variety” are synonymous. Corollary 3.4.7. Let f : X →Y be a morphism of varieties, and assume that X is complete. Then the image f(X) ⊂ Y is closed. Proof. We factor f as f : X Γ → X ×Y π→ Y, where Γ = (idX , f) (the so-called graph morphism), and π is the projection to Y. We claim that Γ(X) = {(P, f(P)) ; P ∈ X} ⊂ X ×Y is closed. To see this, note first that the diagonal ∆(Y) ⊂ Y ×Y is closed as Y is a variety. Now Γ(X) is just the inverse image of ∆(Y) under the morphism (f,idY ) : X ×Y →",322
"from Cartier divisors (resp. Cartier divisor classes) to Weil divisors (resp. Cartier divisor classes) is neither injective nor surjective. Here are examples of this: (i) not injective: This is essentially example 9.1.7. Let X = X1 ∪ X2 be the union of two lines Xi ∼= P 1 glued together at a point P ∈ X1 ∩X2. Let Q be a point on X1\X2. Consider the open cover X = U ∪V with U = X\Q and V = X1\P. We define a Cartier divisor D on X by choosing the following rational functions on U and V: the constant function 1 on U, and the linear function on V ∼= A 1 that has a simple zero at Q. Note that the quotient of these two functions is regular and nowhere zero on U ∩V, so D is well-defined. Its associated Weil divisor [D] is [Q]. 9. Intersection theory 179 By symmetry, we can construct a similar Cartier divisor D 0 whose associated Weil divisor is the class of a point Q 0 ∈ X2\X1. Now note that the Cartier divisor classes of D and D 0 are different (because D−D 0 is not the divisor of a rational function), but their associated Weil divisors [Q] and [Q 0 ] are the same by example 9.1.7. (ii) not surjective: This is essentially example 9.3.1. The classes [Li ] of this example are Weil divisors but not Cartier divisors. Another example on an irreducible space X is the cone X = {x 2 3 = x 2 1 +x 2 2} ⊂ P 3 . x 1 x 2 x 3 L L 1 2 Let L1 = Z(x2, x1 +x3) and L2 = Z(x2, x1 −x3) be the two lines as in the picture. We claim that there is no Cartier divisor on X corresponding to the Weil divisor [L1]. In fact, if there was such a Cartier divisor, defined locally",322
"this construction does what we want on the stalks: we have (f −1F )P = Ff(P) for all P ∈ X. Note that f −1F is obviously a sheaf of (f −1OY )-modules, but not a sheaf of OX - modules. (This corresponds to the statement that in the affine case considered above, M is an S-module, but not an R-module.) We have seen in our affine case what we have to do: we have to take the tensor product over f −1OY with OX (i. e. over S with R). In other words, we define the pull-back f ∗F of F to be f ∗F = f −1F ⊗f −1OY OX , which is then obviously a sheaf of OX -modules. As this construction restricts to the one given above if X and Y are affine and F quasi-coherent, it also follows that pull-backs of quasi-coherent sheaves are again quasi-coherent. It should be stressed that this complicated limit construction is only needed to prove the existence of f ∗F in the general case. To compute the pull-back in practice, one will almost always restrict to affine open subsets and then use the tensor product construction given above. Example 7.2.12. Here is a concrete example in which we can see again why the tensor product construction is necessary in the construction of the pull-back. Consider the morphism f : X = P 1 → Y = P 1 given by (s : t) 7→ (x : y) = (s 2 : t 2 ). We want to compute the pull-back sheaf f ∗OY (1) on X. As we already know, local sections of OY (1) are of the form g(x,y) h(x,y) , with g and h homogeneous such that degg − degh = 1. Pulling this back just means inserting the equations x = s 2 and y = t 2 of f into this expression; so the sheaf f −1OY (1)",322
"→ Y is any morphism of schemes it is an important part of intersection theory to study whether there are push-forward maps f∗ : A∗(X) → A∗(Y) or pull-back maps f ∗ : A∗(Y) → A∗(X) and which properties they have. We have just seen two easy examples of this. Note that neither example can be reversed (at least not in an obvious way): (i) if Y ⊂ X is a closed subset, then a subvariety of X is in general not a subvariety of Y, so there is no pull-back morphism A∗(X) → A∗(Y) sending [V] to [V] for any subvariety V ⊂ X. (ii) if U ⊂ X is an open subset, there are no push-forward maps A∗(U) → A∗(X): if U = A 1 and X = P 1 then the class of a point is zero in A∗(U) but non-zero in A∗(P 1 ) by examples 9.1.8 and 9.1.9. We will construct more general examples of push-forward maps in section 9.2, and more general examples of pull-back maps in proposition 9.1.14. 9. Intersection theory 169 Lemma 9.1.13. Let X be a scheme, let Y ⊂ X be a closed subset, and let U = X\Y . Denote the inclusion maps by i : Y → X and j : U → X. Then the sequence Ak(Y) → i∗ Ak(X) j ∗ → Ak(U) → 0 is exact for all k ≥ 0. The homomorphism i∗ is in general not injective however. Proof. This follows more or less from the definitions. If Z ⊂ U is any k-dimensional subvariety then the closure Z¯ of Z in X is a k-dimensional subvariety of X with j ∗ [Z¯] = [Z]. So j ∗ is surjective. If Z ⊂ Y then Z ∩U = 0, so j ∗ ◦ i∗ = 0. Conversely, assume that we have a cycle ∑ar [Vr ] ∈ Ak(X) whose image in Ak(U) is zero. This",322
"For degree reasons the only possibility for this is that the cubic X 0 is reducible and contains the conic X as a factor. Therefore X 0 = X ∪L, where L is a line. Finally note that P,Q,R lie on X 0 as they lie on X1 and X2. Therefore P,Q,R ∈ X ∪L. But these points are not on X, so they must be on the line L. Corollary 6.2.6. Let C ⊂ P 2 be an irreducible curve of degree d. Then C has at most d−1 2  singular points. Remark 6.2.7. For d = 1 C must be a line, so there is no singular point. A conic is either irreducible (and smooth) or a union of two lines, so for d = 2 the statement is obvious too. For d = 3 the corollary states that there is at most one singular point on an irreducible curve. In fact, the projectivization of the singular cubic affine curve y 2 = x 2 +x 3 is such an example with one singular point (namely the origin). Proof. Assume the contrary and let P1,...,P( d−1 2 )+1 be distinct singular points of C. Moreover, pick arbitrary further distinct points Q1,...,Qd−3 on C (we can assume d ≥ 3 by remark 6.2.7). We thus have a total of d−1 2  +1+d −3 = d 2 2 − d 2 −1 points Pi and Qj . We claim that there is a curve C 0 of degree d − 2 that passes through all Pi and Qj . In fact, the space of all homogeneous degree-(d − 2) polynomials in three variables is a d 2  -dimensional vector space over k, so the space of hypersurfaces of degree d − 2 is a projective space P N of dimension N = d 2  −1, with the coefficients of the equation as the homogeneous coordinates. Now the condition",322
"0 of the coherent sheaf f∗F on Y such that r ∑ k=0 (−1) k ch(Fk)·td(TY ) = f∗(ch(F)·td(TX )) ∈ A∗(Y)⊗Q. This is often written as ch(f∗F)·td(TY ) = f∗(ch(F)·td(TX )). In other words, “the push-forward f∗ commutes with the operator τ of example 10.5.2 (iii)”. It is the statement of the Grothendieck-Riemann-Roch theorem that this relation is actually true for any proper morphism f of smooth projective schemes (and not just for closed immersions). See [F] section 15 for details on how to prove this. The Grothendieck-Riemann-Roch theorem is probably one of the most general Riemann-Roch type theorems that one can prove. The only further generalization one could think of is to singular schemes. There are some such generalizations to mildly singular schemes; see [F] section 18 for details. 10.6. Exercises. Exercise 10.6.1. Let X = P 1 , and for n ∈ Z let Fn be the projective bundle Fn = P(OX ⊕ OX (n)). Let p : Fn → X be the projection morphism. The surfaces Fn are called Hirzebruch surfaces. (i) Show that F0 ∼= P 1 ×P 1 , and Fn ∼= F−n for all n. (ii) Show that all fibers p −1 (P) ⊂ Fn for P ∈ X are rationally equivalent as 1-cycles on Fn. Denote this cycle by D ∈ A1(Fn). (iii) Now let n ≥ 0. Show that the global section (1, x n 0 ) of OX ⊕ OX (n) (where x0, x1 are the homogeneous coordinates of X) determines a morphism s : X → Fn. Denote by C ∈ A1(Fn) the class of the image curve s(X). (iv) Again for n ≥ 0, show that A0(Fn) ∼= Z and A1(Fn) = Z· [C]⊕Z· [D]. Compute the intersection products C 2 , D 2 , and C·D, arriving at a Bezout style theorem for ´ the surfaces Fn. Exercise 10.6.2. Let F and F 0 be two rank-2 vector bundles",322
"X ⊂ P 4 be a smooth quintic hypersurface, i. e. the zero locus of a homogeneous polynomial of degree 5. (i) Show that one expects a finite number of lines in X, and that this expected number is then 2875. (ii) Show that the number of lines on the special quintic X = {x 5 0 + ··· + x 5 4 = 0} is not finite. This illustrates the fact that the intersection-theoretic computations will only yield virtual numbers in general. (In fact one can show that the number of lines on a general quintic hypersurface in P 4 is finite and that the computation of (i) then yields the correct answer.) Exercise 10.6.7. Let X = P 1 ×P 1 . Compute the number K 2 X +c2(TX ) directly and check that it is divisible by 12 (see example 10.4.8). Exercise 10.6.8. Let X and Y be isomorphic smooth projective varieties. Use the Hirzebruch-Riemann-Roch theorem 10.4.5 to prove that the constant coefficients of the Hilbert polynomials of X and Y agree, whereas the non-constant coefficients will in general be different. References 211 REFERENCES [AM] M. Atiyah, I. Macdonald, Introduction to commutative algebra, Addison-Wesley (1969). [D] O. Debarre, Introduction a la g ` eom ´ etrie alg ´ ebrique ´ , notes for a class taught at the University Louis Pasteur in Strasbourg, available at http://www-irma.u-strasbg.fr/˜debarre/. [Do] I. Dolgachev, Introduction to algebraic geometry, notes for a class taught at the University of Michigan, available at http://www.math.lsa.umich.edu/˜idolga/lecturenotes.html. [EGA] A. Grothendieck, J. Dieudonne,´ El´ ements de g ´ eom ´ etrie alg ´ ebrique ´ , Publications Mathematiques IHES ´ (various volumes). [EH] D. Eisenbud, J. Harris, The geometry of schemes, Springer Graduate Texts in Mathematics 197 (2000). [F] W. Fulton, Intersection theory, Springer-Verlag (1984). [G] A. Gathmann, Algebraic geometry, notes for a class taught at Harvard University (1999-2000), available at http://www.math.ias.edu/˜andreas/pub/. [Gr] G.-M. Greuel, Introduction to algebraic geometry, notes for",322
"us mention some of the generalizations without proof: (i) The requirement that the ground field be C is not essential. The very same statement holds over any algebraically closed ground field (the proof has to be changed though at step 2 where we invoked complex analysis). (ii) The requirement that the curve be projective is not essential either, it only needs to be complete (i. e. “compact”). 146 Andreas Gathmann (iii) Instead of a line bundle one can take a vector bundle: if F is any vector bundle on X of rank r then h 0 (F )−h 0 (ωX ⊗F ∨ ) = degΛ rF +r(1−g) (see example 10.4.7). (iv) There are versions of the Riemann-Roch theorem for singular curves as well. (Note that in the singular case we do not have a canonical bundle, so one needs a new idea here.) (v) There are also versions of the Riemann-Roch theorem for varieties of dimension bigger than 1 (see theorem 10.4.5). (vi) Finally, the same theorem can be proven (with the same proof actually) in complex analysis, where h 0 (D) then denotes the dimension of the space of meromorphic functions with the specified zeros and poles. As the resulting dimension does change we conclude that on a projective smooth complex curve every meromorphic function is in fact rational. This is an example of a very general result that says that complex analysis essentially reduces to algebraic geometry in the projective case (in other words, we “do not gain much” by allowing holomorphic functions instead of rational ones in the first place). As an application of the Riemann-Roch theorem let us consider again morphisms to projective spaces. Let X be a smooth projective curve, and let D be a divisor on X. Let s0,...,sr be a basis of the space Γ(O(D)) of global sections of O(D). Then we have seen in lemma 7.5.14 that we get a morphism X → P",322
"If X and Y are prevarieties over k and we take S = Spec k, we get back our old notion of the product X ×Y of prevarieties. For any graded ring R there is a scheme ProjR whose points are the homogeneous prime ideals of R that do not contain the irrelevant ideal. This construction generalizes our earlier construction of projective varieties; if R is the homogeneous coordinate ring of a projective variety X over an algebraically closed field then ProjR “is” just the projective variety X. 5.1. Affine schemes. We now come to the definition of schemes, which are the main objects of study in algebraic geometry. The notion of schemes extends that of prevarieties in a number of ways. We have already met several instances where an extension of the category of prevarieties could be useful: • We defined a prevariety to be irreducible. Obviously, it makes sense to also consider reducible spaces. In the case of affine and projective varieties we called them algebraic sets, but we did not give them any further structure or defined regular functions and morphisms of them. Now we want to make reducible spaces into full-featured objects of our category. • At present we have no geometric objects corresponding to non-radical ideals in k[x1,..., xn], or in other words to coordinate rings with nilpotent elements. These non-radical ideals pop up naturally however: e. g. we have seen in exercise 1.4.1 that intersections of affine varieties correspond to sums of their ideals, modulo taking the radical. It would seem more natural to define the intersection X1 ∩X2 of two affine varieties X1,X2 ⊂ A n to be a geometric object associated to the ideal I(X1) + I(X2) ⊂ k[x1,..., xn]. This was especially obvious when we discussed blow-ups: blowing up X1 ∩X2 in A n “separates” X1 and X2 (if none of these two sets is contained in the other), i. e. their strict",322
"of global sections of a line bundle O(n). In our study of Hilbert polynomials we have seen that Hilbert functions and polynomials are usually computed using exact sequences (of graded vector spaces). In the same way, the spaces of sections H 0 (X,E) are usually computed using exact sequences of vector bundles. For example, if Y is a smooth subvariety of a smooth variety X, then there is an exact sequence of vector bundles on X 0 → TY → TX |Y → NY/X → 0, where NY/X is the normal bundle of Y in X — it is by definition simply the vector bundle whose fibers are the normal spaces TX,P/TY,P. The sequence is then exact by definition (i. e. it is exact locally at every fiber). This does not mean however that the spaces of global sections necessarily form an exact sequence 0 → H 0 (Y,TY ) → H 0 (Y,TX |Y ) → H 0 (Y,NY/X ) → 0. In fact one can show that one always gets an exact sequence 0 → H 0 (Y,TY ) → H 0 (Y,TX |Y ) → H 0 (Y,NY/X ), but exactness need not be preserved in the last term: a surjective map E → F of vector bundles need not give rise to a surjective map H 0 (X,E) → H 0 (X,F) of global sections. An example is easily found: consider the morphism of vector bundles O ⊕O → O(2), (ϕ1,ϕ2) 7→ x 2 0ϕ1 +x 2 1ϕ2 on P 1 . This is obviously surjective in every fiber — for every point P = (x0 : x1) ∈ P 1 at least one of the coordinates is non-zero, so by picking suitable ϕ1(P) and ϕ2(P) we can get any number for x 2 0ϕ1(P) +x 2 1ϕ2(P). But the corresponding morphism of global sections H 0 (P 1 ,O ⊕O) → H 0 (P 1 ,O(2)) cannot be surjective simply for dimensional reasons, as the dimensions of these vector spaces are 2 and 3, respectively. It turns out however that there are canonically defined cohomology groups Hi (X,E) for i > 0 and every vector bundle",361
"a one-point space, so its data consists only of one k-vector space (i ∗F )(P), which is precisely the fiber FP). Lemma 7.3.4. Let X be a scheme. If F and G are locally free sheaves of OX -modules of rank r and s, respectively, then the following sheaves are also locally free: F ⊕G (of rank r + s), F ⊗ G (of rank r·s), and F ∨ (of rank r). If f : X → Y is a morphism of schemes and F is a locally free sheaf on Y , then f ∗F is a locally free sheaf on X of the same rank. (The push-forward of a locally free sheaf is in general not locally free.) Proof. The proofs all follow from the corresponding statements about vector spaces (or free modules over a ring): for example, if M and N are free R-modules of dimension r and s respectively, then M ⊕N is a free R-module of dimension r+s. Applying this to an open affine subset U = SpecR in X on which F and G are isomorphic to O ⊕r U = M˜ and O ⊕s U = N˜ gives the desired result. The statement about tensor products and duals follows in the same way. As for pull-backs, we have already seen that f ∗OY = OX , so f ∗F will be of the form O ⊕r f −1(U) on the inverse image f −1 (U) ⊂ X of an open subset U ⊂ Y on which F is of the form O ⊕r U . Remark 7.3.5. Lemma 7.3.4 is an example of the general principle that any “canonical” construction or statement that works for vector spaces (or free modules) also works for vector bundles. Here is another example: recall that for any vector space V over k (or any free module) one can define the n-th symmetric product S nV and the n-th alternating product Λ nV to be the vector space of formal totally symmetric (resp. antisymmetric) products v1 · ··· · vn ∈ S nV and v1 ∧··· ∧vn ∈ Λ nV. 7. More about sheaves 133 If V has dimension",361
"we explain what algebraic geometry is about and what it can be used for. We stress the many correlations with other fields of research, such as complex analysis, topology, differential geometry, singularity theory, computer algebra, commutative algebra, number theory, enumerative geometry, and even theoretical physics. The goal of this section is just motivational; you will not find definitions or proofs here (and probably not even a mathematically precise statement). 0.1. What is algebraic geometry? To start from something that you probably know, we can say that algebraic geometry is the combination of linear algebra and algebra: • In linear algebra, we study systems of linear equations in several variables. • In algebra, we study (among other things) polynomial equations in one variable. Algebraic geometry combines these two fields of mathematics by studying systems of polynomial equations in several variables. Given such a system of polynomial equations, what sort of questions can we ask? Note that we cannot expect in general to write down explicitly all the solutions: we know from algebra that even a single complex polynomial equation of degree d > 4 in one variable can in general not be solved exactly. So we are more interested in statements about the geometric structure of the set of solutions. For example, in the case of a complex polynomial equation of degree d, even if we cannot compute the solutions we know that there are exactly d of them (if we count them with the correct multiplicities). Let us now see what sort of “geometric structure” we can find in polynomial equations in several variables. Example 0.1.1. Probably the easiest example that is covered neither in linear algebra nor in algebra is that of a single polynomial equation in two variables. Let us consider the following example: Cn = {(x, y) ∈ C 2 ; y 2 = (x−1)(x−2)···(x−2n)} ⊂ C 2 , where n ≥ 1. Note that in this case it is actually possible to write down all the solutions, because the equation is (almost) solved for y already: we can pick x to be any complex number, and then get two values for y — unless x ∈ {1,...,2n},",361
"the continuous map f . To explain this condition, note that the maps f ∗ U give rise to a map between the stalks f ∗ P : OY, f(P) → OX,P, (U,ϕ) 7→ (f −1 (U), f ∗ϕ) for every point P ∈ X (this is easily seen to be well-defined). These stalks are local rings, call their maximal ideals mY, f(P) and mX,P, respectively. Now the fact that f maps P 5. Schemes 79 to f(P) should be reflected on the level of the pull-back maps f ∗ by the condition that (f ∗ P ) −1 (mX,P) = mY, f(P) . This leads to the following definition. Definition 5.2.1. A locally ringed space is a ringed space (X,OX ) such that at each point P ∈ X the stalk OX,P is a local ring. The maximal ideal of OX,P will be denoted by mX,P, and the residue field OX,P/mX,P will be denoted k(P). A morphism of locally ringed spaces from (X,OX ) to (Y,OY ) is given by the following data: • a continuous map f : X → Y, • for every open subset U ⊂ Y a ring homomorphism f ∗ U : OY (U) → OX (f −1 (U)), such that f ∗ V ◦ρU,V = ρf −1(U), f −1(V) ◦ f ∗ U for all V ⊂U ⊂Y (i. e. the f ∗ are compatible with the restriction maps) and (f ∗ P ) −1 (mX,P) = mY, f(P) , where the f ∗ P : OY, f(P) → OX,P are the maps induced on the stalks, as explained above. We will often omit the index of the various pull-back maps f ∗ if it is clear from the context on which spaces they act. A morphism of affine schemes is a morphism as locally ringed spaces. The following proposition is the analogue of lemma 2.3.7. It shows that definition 5.2.1 was “the correct one”, because it gives us finally what we want. Proposition 5.2.2. Let R,S be rings, and let X = SpecR and Y = SpecS the corresponding affine schemes. There is a one-to-one correspondence between morphisms X →Y and ring homomorphisms",361
"I (1) = { f (1) ; f ∈ I} the vector space of all linear parts of the elements of I; this is by definition a vector subspace of the n-dimensional space k[x1,..., xn] (1) of all linear forms {a1x1 +···+anxn ; ai ∈ k}. 64 Andreas Gathmann The zero locus Z(I (1) ) is then a linear subspace of A n . It is canonically dual (as a vector space) to k[x1,..., xn] (1)/I (1) , since the pairing k[x1,..., xn] (1) /I (1) ×Z(I (1) ) → k, (f,P) 7→ f(P) is obviously non-degenerate. Now let X ⊂ A n be a variety. By a linear change of coordinates, assume that P = (0,...,0) ∈ X. Then the linear space Z(I(X) (1) ) is called the tangent space to X at P and denoted TX,P. Remark 4.4.2. Let us make explicit the linear change of coordinates mentioned in the definition. If P = (a1,...,an) ∈ X, we need to change coordinates from the xi to yi = xi−ai . By a (purely formal) Taylor expansion we can rewrite any polynomial f ∈ k[x1,..., xn] as f(x1,..., xn) = f(P) +∑ i ∂ f ∂xi (P)· yi +(terms at least quadratic in the yi), so we see that the tangent space TX,P to any point P = (a1,...,an) ∈ X is given by the equations ∑ i ∂ f ∂xi (P)·(xi −ai) = 0 for all f ∈ I(X). Here is an alternative description of the tangent space. For simplicity, we will assume again that the coordinates have been chosen such that P = (0,...,0). Lemma 4.4.3. Let X ⊂ A n be a variety, and assume that P = (0,...,0) ∈ X. Then k[x1,..., xn] (1) /I(X) (1) = M/M2 , where M = {ϕ ; ϕ(P) = 0} ⊂ OX,P is the maximal ideal in the local ring of X at P. Proof. Recall that OX,P = n f g ; f,g ∈ A(X),g(P) 6= 0 o , and therefore M = n f g ; f,g ∈ A(X), f(P) = 0,g(P) 6= 0 o . There is an obvious homomorphism k[x1,..., xn] (1)/I(X) (1) → M/M2",361
"algebra, the fiber product X ×Y Z in definition 9.2.2 is isomorphic to the closed subscheme p −1 (∆Y ) of X ×Z, where p = (f,g) : X ×Z →Y ×Y and ∆Y ⊂ Y ×Y is the diagonal. So if V ⊂ X ×Y Z is any closed subset, then V is also closed in X ×Z, and hence its image in Z is closed as X is complete. This is the easiest criterion to determine that a morphism is proper. Some more can be found in exercise 9.5.5. Example 9.2.5. Let U ⊂ X be a non-empty open subset of a (connected) scheme X. Then the inclusion morphism i :U → X is not proper. This is obvious for the algebraic definition, as i is not even closed itself (it maps the closed subset U ⊂ U to the non-closed subset U ⊂ X). In the topological definition, let Z ⊂ X be a small closed disc around a point P ∈ X\U. Its inverse image i −1 (Z) = Z ∩U is Z minus a closed non-empty subset, so it is not compact. Example 9.2.6. If f : X →Y is proper then every fiber f −1 (P) is complete (resp. compact). Again this is obvious for the topological definition, as {P} ⊂Y is compact. In the algebraic definition let P ∈ Y be a point, let Z be any scheme, and form the fiber diagram Z × f −1 (P) / f 0  f −1 (P) /  X f  Z /P /Y. If f is proper then by definition the morphism f 0 is closed for all choices of P and Z. By definition this means exactly that all fibers f −1 (P) of f are complete. The converse is not true however: every fiber of the morphism A 1 → P 1 is complete (resp. compact), but the morphism is not proper. Remark 9.2.7. It turns out that the condition of properness of a morphism f : X → Y is enough to guarantee the existence of well-defined push-forward maps f∗ : Ak(X) → Ak(Y). To construct them rigorously however we have",361
": X → k is identically zero then f ∈ I(X) by definition, so f = 0 in A(X). Note that I(X) is a prime ideal by lemma 1.3.4, so A(X) is an integral domain. Hence we can make the following definition: Definition 2.1.3. Let X ⊂ A n be an affine variety. The quotient field K(X) of A(X) is called the field of rational functions on X. Remark 2.1.4. Recall that the quotient field K of an integral domain R is defined to be the set of pairs (f,g) with f,g ∈ R, g 6= 0, modulo the equivalence relation (f,g) ∼ (f 0 ,g 0 ) ⇐⇒ f g0 −g f 0 = 0. 2. Functions, morphisms, and varieties 19 An element (f,g) of K is usually written as f g , and we think of it as the formal quotient of two ring elements. Addition of two such formal quotients is defined in the same way as you would expect to add fractions, namely f g + f 0 g 0 := f g0 +g f 0 gg0 , and similarly for subtraction, multiplication, and division. This makes K(X) into a field. In the case where R = A(X) is the coordinate ring of an affine variety, we can therefore think of elements of K(X) as being quotients of polynomial functions. We have to be very careful with this interpretation though, see example 2.1.7 and lemma 2.1.8. Now let us define what we want to mean by a regular function on an open subset U of an affine variety X. This is more or less obvious: a regular function should be a rational function that is well-defined at all points of U: Definition 2.1.5. Let X ⊂ A n be an affine variety and let P ∈ X be a point. We call OX,P :=  f g ; f,g ∈ A(X) and g(P) 6= 0  ⊂ K(X) the local ring of X at the point P. Obviously, this should be thought of as the rational functions that are regular at P. If U ⊂ X is a non-empty open subset, we set OX (U) := \",361
"for any k-dimensional subvariety Z ⊂ X. This respects rational equivalence as i ∗ div(ϕ) = div(ϕ|U ) for any rational function ϕ on a subvariety of X. Remark 9.1.12. If f : X → Y is any morphism of schemes it is an important part of intersection theory to study whether there are push-forward maps f∗ : A∗(X) → A∗(Y) or pull-back maps f ∗ : A∗(Y) → A∗(X) and which properties they have. We have just seen two easy examples of this. Note that neither example can be reversed (at least not in an obvious way): (i) if Y ⊂ X is a closed subset, then a subvariety of X is in general not a subvariety of Y, so there is no pull-back morphism A∗(X) → A∗(Y) sending [V] to [V] for any subvariety V ⊂ X. (ii) if U ⊂ X is an open subset, there are no push-forward maps A∗(U) → A∗(X): if U = A 1 and X = P 1 then the class of a point is zero in A∗(U) but non-zero in A∗(P 1 ) by examples 9.1.8 and 9.1.9. We will construct more general examples of push-forward maps in section 9.2, and more general examples of pull-back maps in proposition 9.1.14. 9. Intersection theory 169 Lemma 9.1.13. Let X be a scheme, let Y ⊂ X be a closed subset, and let U = X\Y . Denote the inclusion maps by i : Y → X and j : U → X. Then the sequence Ak(Y) → i∗ Ak(X) j ∗ → Ak(U) → 0 is exact for all k ≥ 0. The homomorphism i∗ is in general not injective however. Proof. This follows more or less from the definitions. If Z ⊂ U is any k-dimensional subvariety then the closure Z¯ of Z in X is a k-dimensional subvariety of X with j ∗ [Z¯] = [Z]. So j ∗ is surjective. If Z ⊂ Y then Z ∩U = 0, so j ∗ ◦ i∗ = 0. Conversely, assume that we have a cycle ∑ar [Vr ] ∈ Ak(X) whose image in Ak(U) is zero. This means that there are rational",361
"all divisors of the form (ϕ) for ϕ ∈ K(C)\{0}. If f ∈ S(C) (d) , we will usually still write (f) for the divisor class in PicC associated to f . Two divisors D1 and D2 are said to be linearly equivalent if D1 −D2 = 0 ∈ PicC, i. e. if they define the same divisor class. Remark 6.3.9. By remark 6.3.5, the degree function deg : DivC → Z passes to a group homomorphism deg : PicC → Z. So it makes sense to talk about the degree of a divisor class. We define Pic0C ⊂ PicC to be the group of divisor classes of degree 0. Remark 6.3.10. The divisor group DivC is a free (and very “big”) abelian group and therefore not very interesting. In contrast, the divisor class group PicC has quite a rich structure that we want to study now in some easy examples. Lemma 6.3.11. PicP 1 ∼= Z (with an isomorphism being the degree homomorphism). In other words, on P 1 all divisors of the same degree are linearly equivalent. 6. First applications of scheme theory 103 Proof. Let D = a1P1 +···amPm be a divisor of degree zero, i. e. a1 +···+am = 0. We have to show that D is the divisor of a rational function. In fact, assume the Pi have homogeneous coordinates (xi : yi); then ϕ = m ∏ i=1 (x yi −y xi) ai is a rational function such that (ϕ) = D. Let us now move on to more complicated curves. We know already that smooth conics in P 2 are isomorphic to P 1 , so their Picard group is isomorphic to the integers too. Let us therefore consider cubic curves in P 2 . We will compute PicC and show that it is not isomorphic to Z (thereby showing that cubic curves are not isomorphic to P 1 ). Let us prove a lemma first. Lemma 6.3.12. Let C = Z(f) ⊂ P 2 be a smooth cubic curve, and let C0 = Z(g) with g ∈ k[x0, x1, x2] (d) be another curve that does not have C as a component. Assume",361
"Hirzebruch-Riemann-Roch theorem for these bundles in example 10.4.10 the statement follows by the remark at the end of example 10.5.2. Remark 10.5.5. To study the Hirzebruch-Riemann-Roch theorem for general smooth projective X let i : X → P n be an embedding of X in projective space and consider the following diagram: K ◦ (X) i∗ / τ  K ◦ (P n ) χ / τ  Z _  A(X)⊗Q i∗ /A(P n )⊗Q deg /Q. Let us first discuss the right square. The homomorphisms χ and τ are explained in example 10.5.2, and deg denotes the degree of the dimension-0 part of a cycle class. The Hirzebruch-Riemann-Roch theorem for P n of corollary 10.5.4 says precisely that this right square is commutative. Now consider the left square. The homomorphism τ is as above, and the i∗ in the bottom row is the proper push-forward of cycles of corollary 9.2.12. We have to explain the pushforward i∗ in the top row. Of course we would like to define i∗[F] = [i∗F] for any vector bundle F on X, but we cannot do this directly as i∗F is not a vector bundle but only a coherent sheaf on P n . So instead we let 0 → Fr → Fr−1 → ··· → F0 → i∗F → 0 (∗) be a locally free resolution of the coherent sheaf i∗F on P n and set i∗ : K ◦ (X) → K ◦ (P n ), i∗([F]) = r ∑ k=0 (−1) k [Fk]. One can show that this is indeed a well-defined homomorphism of groups (i. e. that this definition does not depend on the choice of locally free resolution), see [F] section B.8.3. But in fact we do not really need to know this: we do know by the long exact cohomology sequence applied to (∗) that χ(X,F) = r ∑ k=0 (−1) k χ(P n ,Fk), 206 Andreas Gathmann so it is clear that at least the composition χ◦i∗ does not depend on the choice of locally free resolution. The Hirzebruch-Riemann-Roch theorem on X is now precisely the statement that the outer rectangle in the above diagram is",361
"an algebraically closed field. In this exercise we will construct an example of a variety that is complete (i. e. compact if k = C) but not projective. Consider X = P 3 and the curves C1 = {x3 = x2 −x1 = 0} and C2 = {x3 = x0x2 −x 2 1 = 0} in X. Denote by P1 = (1 : 0 : 0 : 0) and P2 = (1 : 1 : 1 : 0) their two intersection points. Let X˜0 1 → X be the blow-up at C1, and let X˜ 1 → X˜0 1 be the blow-up at the strict transform of C2. Denote by π1 : X˜ 1 → X the projection map. Similarly, let π2 : X˜ 2 → X be the composition of the two blow-ups in the opposite order; first blow up C2 and then the strict transform of C1. Obviously, X˜ 1 and X˜ 2 are isomorphic away from the inverse image of {P1,P2}, so we can glue π −1 1 (X\{P1}) and π −1 2 (X\{P2}) along the isomorphism π −1 1 (X\{P1,P2}) ∼= π −1 2 (X\{P1,P2}) to get a variety Y. This variety will be our example. From the construction there is an obvious projection map π : Y → X. (i) Show that Y is proper over k. (ii) For i = 1,2 we know that Ci is isomorphic to P 1 . Hence we can choose a rational function ϕi onCi with divisor P1−P2. Compute the divisor of the rational function ϕi ◦ π on the variety π −1 (Ci), as an element in Z1(Y). (iii) From (ii) you should have found two irreducible curves D1,D2 ⊂ Y such that [D1] +[D2] = 0 ∈ A1(Y). Deduce that Y is not a projective variety. Exercise 9.5.9. Let X be a smooth projective surface, and let C,D ⊂ X be two curves in X that intersect in finitely many points. (i) Prove that there is an exact sequence of sheaves on X 0 → OX (−C −D) → OX (−C)⊕OX (−D) → OX → OC∩D → 0. (ii) Conclude that the intersection product C·D ∈ Z is given by the formula C·D = χ(X,OX ) +χ(X,OX (−C −D))−χ(X,OX (−C))−χ(X,OX (D)) where χ(X,F ) = ∑i (−1) ih i (X,F ) denotes the Euler characteristic of the sheaf F . 9. Intersection theory 187 (iii) Show how",400
"assert that certain cohomology groups are zero under some conditions that can hopefully easily be checked. We will prove one more vanishing theorem in theorem 8.4.7 (ii). Of course, the advantage of vanishing cohomology groups is that they break up the long exact cohomology sequence of proposition 8.2.1 into smaller pieces. Using our Kodaira vanishing theorem we can now reprove the Riemann-Roch theorem in a “cohomological version”. In analogy to the notation of section 7.7 let us denote H 1 (X,OX (D)) also by H 1 (D) for any divisor D, and similarly for h 1 (D). Corollary 8.3.3. (Riemann-Roch theorem for line bundles on curves, second version) Let X be a smooth projective curve of genus g. Then for any divisor D on X we have h 0 (D)−h 1 (D) = degD+1−g. Proof. From the exact skyscraper sequence 0 → OX (D) → OX (D+P) → kP → 0 8. Cohomology of sheaves 157 for any point P ∈ X we get the long exact sequence in cohomology 0 → H 0 (D) → H 0 (D+P) → k → H 1 (D) → H 1 (D+P) → 0 by proposition 8.2.1. Taking dimensions, we conclude that χ(D + P) − χ(D) = 1, where χ(D) := h 0 (D)−h 1 (D). It follows by induction that we must have h 0 (D)−h 1 (D) = degD+c for some constant c (that does not depend on D). But by our first version of the RiemannRoch theorem 7.7.3 we have h 0 (D)−h 0 (KX −D) = degD+1−g. So to determine the constant c we can pick a divisor D of degree at least 2g − 1: then h 1 (D) vanishes by proposition 8.3.1 and h 0 (KX − D) by example 7.7.1. So we conclude that c = 1−g, as desired. Remark 8.3.4. Comparing our two versions of the Riemann-Roch theorem we see that we must have h 0 (ωX ⊗L ∨) = h 1 (L) for all line bundles L on a smooth projective curve X. In fact, this is just a special case of the Serre duality theorem that asserts that for any smooth n-dimensional variety X and any locally free sheaf F there are canonical isomorphisms H i (X,F ) ∼= H n−i (X,ωX ⊗F ∨ ) ∨ for all i = 0,...,n. Unfortunately, these isomorphisms cannot easily be written down. There are even",400
") ∗OY (Vi) ⊂ OX (Ui). Then f is a morphism. Proof. We may assume that the Ui are affine, as otherwise we can replace the Ui by a set of affines that cover Ui . Consider the restrictions fi : Ui → Vi . The homomorphism f ∗ i : OY (Vi) = A(Vi) → OX (Ui) = A(Ui) is induced by some morphism Ui → Vi by lemma 2.3.7 which is easily seen to coincide with fi . In particular, the fi are continuous, and therefore so is f . It remains to show that f ∗ takes sections of OY to sections of OX . But if V ⊂ Y is open and ϕ ∈ OY (V), then f ∗ϕ is at least a section of OX on the sets f −1 (V)∩Ui . Since OX is a sheaf and the Ui cover X, these sections glue to give a section in OX (f −1 (V)). Example 2.4.11. Let f : A 1 → A 1 , x 7→ y = f(x) be a morphism given by a polynomial f ∈ k[x]. We claim that there is a unique extension morphism ˜f : P 1 → P 1 such that ˜f |A1 = f . We can assume that f = ∑ n i=1 aix i is not constant, as otherwise the result is trivial. It is then obvious that the extension should be given by ˜f(∞) = ∞. Let us check that this defines in fact a morphism. We want to apply lemma 2.4.10. Consider the standard open affine cover of the domain P 1 by the two affine lines V1 = P 1\{∞} and V2 = P 1\{0}. Then U1 := ˜f −1 (V1) = A 1 , and ˜f |A1 = f is a morphism. On the other hand, let U2 := ˜f −1 (V2)\{0}. Consider the coordinates ˜x = 1 x and ˜y = 1 y on U2 and V2, respectively. In these coordinates, the map ˜f is given by y˜ = x˜ n ∑ n i=1 aix˜ n−i ; 2. Functions, morphisms, and varieties 31 in particular ˜x = 0 maps to ˜y = 0. So by defining ˜f(∞) = ∞, we get a morphism ˜f : P 1 → P 1 that extends f by lemma 2.4.10. 2.5. Varieties. Recall example 2.4.5 (ii) where we constructed a prevariety that was “not",400
"by C˜ p (F ) and H˜ p (X,F ) the corresponding groups for the cover U˜ . Note that there are natural morphisms C˜ p (F ) → C p (F ) and H˜ p (X,F ) → H p (X,F ) given by “forgetting the data that involves the open subset U0”, i. e. by (αi0,...,ip )0≤i0<i1<···<ip≤k 7→ (αi0,...,ip )1≤i0<i1<···<ip≤k. More precisely, an element α˜ ∈ C˜ p (F ) can be thought of as a pair α˜ = (α,α 0 ), where α ∈ C p (F ) is given by αi0,...,ip = α˜i0,...,ip (for i0 > 0) and α 0 ∈ C p−1 (U0,F |U0 ) is given by α 0 i0,...,ip−1 = α˜ 0,i0,...,ip−1 . Moreover, dα˜ = 0 if and only if dα = 0 (1) (these are the equations (dα˜)i0,...,ip+1 = 0 for i0 > 0) and α|U0 −dα 0 = 0 (2) (these are the equations (dα˜)i0,...,ip+1 = 0 for i0 = 0). We have to show that the morphism H˜ p (X,F ) → H p (X,F ) is injective and surjective. (i) H˜ p (X,F ) → H p (X,F ) is surjective: Let α ∈ H p (X,F ) be a cohomology cycle, i. e. dα = 0. We have to find an α 0 ∈ C p−1 (U0,F |U0 ) such that α˜ = (α,α 0 ) satisfies dα˜ = 0, i. e. by (2) such that dα 0 = α|U0 . But d(α|U0 ) = (dα)|U0 = 0, so by lemma 8.5.1 α|U0 = dα 0 for some α 0 . (ii) H˜ p (X,F ) → H p (X,F ) is injective: Let α˜ ∈ H˜ p (X,F ) be a cohomology cycle (i. e. dα˜ = 0) such that α = 0 ∈ H p (X,F ), i. e. α = dβ for some β ∈ C p−1 (F ). We have to show that α˜ = 0 ∈ H˜ p (X,F ), i. e. we have to find a ˜β = (β,β 0 ) ∈ C˜ p−1 (F ) such that d ˜β = α˜. By (2) this means that we need β|U0 − dβ 0 = α 0 . But d(β|U0 − α 0 ) = α|U0 − α|U0 = 0, so by lemma 8.5.1 there is a β 0 such that β|U0 −α 0 = dβ 0 . Corollary 8.5.3. The cohomology",400
"is the same by Poincare duality, but this is a non-trivial statement. The ´ 9. Intersection theory 181 natural operation for homology (resp. cohomology) is the push-forward (resp. pull-back). Intersection products are defined between a cohomology and a homology class, yielding a homology class. This corresponds to our initial statement of this section that intersection products of Chow cycles (“homology classes”) with divisors will usually only be welldefined with Cartier divisors (“cohomology classes”) and not with Weil divisors. 9.4. Intersections with Cartier divisors. We are now ready to define intersection products of Chow cycles with Cartier divisors, as motivated in the beginning of section 9.3. Let us give the definition first, and then discuss some of its features. Definition 9.4.1. Let X be a scheme, let V ⊂ X be a k-dimensional subvariety with inclusion morphism i : V → X, and let D be a Cartier divisor on X. We define the intersection product D·V ∈ Ak−1(X) to be D·V = i∗[i ∗OX (D)], where OX (D) is the line bundle on X associated to the Cartier divisor D by lemma 9.3.9, i ∗ denotes the pull-back of line bundles, [i ∗OX (D)] is the Weil divisor class associated to the line bundle i ∗OX (D) by remark 9.3.10 (note that V is irreducible), and i∗ denotes the proper push-forward of corollary 9.2.12. Note that by definition the intersection product depends only on the divisor class of D, not on D itself. So using our definition we can construct bilinear intersection products PicX ×Zk(X) → Ak−1(X), D,∑ai [Vi ]  7→ ∑ai(D·Vi). If X is smooth and pure-dimensional (so that Weil and Cartier divisors agree) and W is a codimension-1 subvariety of X, we denote by W ·V ∈ Ak−1(X) the intersection product D·V, where D is the Cartier divisor corresponding to the Weil divisor [W]. Example 9.4.2. Let X be a smooth n-dimensional scheme, and let V and W be subvarieties of dimensions k and n − 1, respectively. If V 6⊂ W, i. e. if dim(W ∩V) = k − 1, then the intersection product W ·V is just the cycle [W ∩V] with possibly some scheme-theoretic multiplicities. In fact, in this case the Weil divisor [W] corresponds by remark 9.3.10 to a line bundle OX (W) together with a section f whose zero locus is precisely W. By definition of the intersection product we have to",400
"which again by proposition 5.3.7 is the same as giving morphisms Z → X and Z → Y that give rise to the same morphism from Z → S. Hence Spec(M ⊗R N) is the desired product. Now let X, Y and S be general schemes. Cover S by open affines Si , then cover f −1 (Si) and g −1 (Si) by open affines Xi, j and Yi,k, respectively. Consider the fiber products Xi, j ×Si Yi,k that exist by the above tensor product construction. Note that by remark 5.4.3 (i) these will then be fiber products over S as well. Now if we have another such product Xi 0 , j 0 ×S Yi 0 ,k 0 , both of them will contain the (unique) fiber product (Xi, j ∩Xi 0 , j 0) ×S (Yi,k ∩Yi 0 ,k 0) as an open subset by remark 5.4.3 (ii), hence they can be glued along these isomorphic open subsets. It is obvious that the final scheme X ×SY obtained by glueing the patches satisfies the defining property of a fiber product. Example 5.4.8. Let X and Y be prevarieties over a field k. Then the scheme-theoretic fiber product X ×Spec kY is just the product prevariety X ×Y considered earlier. In fact, this follows from remark 2.3.13 in the affine case, and the glueing is done in the same way for prevarieties and schemes. Consequently, we will still use the notation X ×Y to denote the fiber product X ×Spec kY over Speck. Note however that for general schemes X and Y one also often defines X ×Y to be X ×SpecZ Y (see remark 5.3.8). For schemes over k, X ×Spec k Y and X ×SpecZ Y will in general be different (see exercise 5.6.10), so one has to make clear what is meant by the notation X ×Y. Example 5.4.9. Let Y1 → X and Y2 → X be morphisms of schemes that are “inclusion morphisms”, i. e. the Yi might be open subsets of X, or closed subschemes as in example 5.2.3. Then Then Y1 ×X Y2 is defined to be the intersection scheme of Y1 and Y2 in X and is usually written Y1 ∩Y2. For example, if X = SpecR, Y1 = SpecR/I1, and Y2 = SpecR/I2 as in example 5.2.3, then Y1 ∩Y2 is SpecR/(I1 +I2), which is consistent with example 5.4.5 (ii).",400
"a0 ) , which is a regular function on X ∩ A n as it can be rewritten as a quotient of two homogeneous polynomials of the same degree (by canceling the fractions in the numerator and denominator). In the same way, F −1 pulls back a regular function on (an open subset of) X ∩A n p(a0,...,an) q(a0,...,an) to p(1,a1,...,an) q(1,a1,...,an) , which is a regular function on Y. So F is an isomorphism. 42 Andreas Gathmann In the same way we can do this for the open sets Xi = {(x0 : ··· : xn) ∈ X ; xi 6= 0} for i = 0,...,n. As the xi cannot be simultaneously zero, it follows that the Xi form an affine cover of X. So X is a prevariety. Remark 3.3.7. Following the proof of proposition 3.3.6, it is easy to see that our “new” definition of P 1 agrees with the “old” definition of example 2.4.5 (i) by glueing two affine lines A 1 . Remark 3.3.8. Proposition 3.3.6 implies that all our constructions and results for prevarieties apply to projective varieties as well. For example, we know what morphisms are, and have defined products of projective varieties. We have also defined the field of rational functions for prevarieties in exercise 2.6.9; it is easy to check that this definition agrees with the one in definition 3.3.3. Although this gives us the definition of morphisms and products, we would still have to apply our glueing techniques to write down a morphism or a product. So we should find a better description for morphisms and products involving projective varieties: Lemma 3.3.9. Let X ⊂ P n be a projective variety (or an open subset of a projective variety). Let f1,..., fm ∈ k[x0,..., xn] be homogeneous polynomials of the same degree in the homogeneous coordinates of P n , and assume that for every P ∈ X at least one of the fi does not vanish at P. Then the fi define a morphism f : X → P m , P ∈ X 7→ (f0(P) : ··· : fm(P)). Proof. First of all note that f is well-defined set-theoretically: we have assumed that the image point can never be (0 : ··· : 0); and if we rescale the homogeneous coordinates xi we get (f0(λx0 : ··· : λxn) : ··· : fm(λx0 : ··· : λxn)) =",400
"155 so there is a δ ∈ C p such that f(δ) = α−dγ as the p-th row is exact. Note that δ defines an element in H p (C) as f(dδ) = d(α−dγ) = 0−0 = 0 and thus dδ = 0 as f is injective. Moreover, f(δ) = α in H p (D) by construction, so α ∈ im(H p (C) → H p (D)). Example 8.2.3. Consider the exact sequence of sheaves on X = P 1 0 −→ O(−2) ·x0x1 −→ O −→ kP ⊕kQ −→ 0 from example 7.1.18, where P = (0 : 1) and Q = (1 : 0), and the last map is given by evaluation at P and Q. From proposition 8.2.1 we deduce an associated long exact cohomology sequence 0 → H 0 (X,O(−2)) → H 0 (X,O) → H 0 (X, kP ⊕kQ) → H 1 (X,O(−2)) → H 1 (X,O) → ··· . Now H 0 (X,O(−2)) = 0 by example 7.7.1 and H 1 (X,O) = 0 by example 8.1.7. Moreover, H 0 (X,O) is just the space of global (constant) functions, H 0 (X, kP ⊕kQ) is isomorphic to k × k (given by specifying values at the points P and Q), and H 1 (X,O(−2)) = h 1 x0x1 i is 1-dimensional by example 8.1.8. So our exact sequence is just 0 → k → k ×k → k → 0. We can actually also identify the morphisms. The first morphism in this sequence is a 7→ (a,a) as it is the evaluation of the constant function a at the points P and Q. The second morphism is given by the “left, down, left” procedure of part (iii) of the proof of lemma 8.2.2 in the following diagram: 0 /C 0 (O(−2)) /  C 0 (O) /  C 0 (kP ⊕kQ) /  0 0 /C 1 (O(−2)) /C 1 (O) /C 1 (kP ⊕kQ) /0 Starting with any element (a,b) ∈ C 0 (kP ⊕kQ) we can find an inverse image in C 0 (O) = O(U0)×O(U1) (with Ui = {xi 6= 0}, namely the pair of constant functions (b,a) (as P ∈U1 and Q ∈ U0). Going down in the diagram yields the function a − b ∈ O(U0 ∩U1) by the definition of the boundary operator. Recalling that the morphism from O(−2) to O is given by multiplication with x0x1,",400
"if we try to multiply the section s 2 with the function t s (i. e. a section of OX ) on the open subset where 7. More about sheaves 131 s 6= 0, we get st, which is not of the form g(s 2 ,t 2 ) h(s 2,t 2) . We have just seen the solution to this problem: consider the tensor product with OX . So sections of f ∗OY (1) are of the form g(s 2 ,t 2 ) h(s 2 ,t 2) ⊗ g 0 (s,t) h 0(s,t) with deg(g(s 2 ,t 2 )) − deg(h(s 2 ,t 2 )) = 2 and degg 0 − degh 0 = 0. It is easy to see that this describes precisely all expressions of the form g 00(s,t) h 00(s,t) with degg 00 −degh 00 = 2, so the result we get is f ∗OY (1) = OX (2). In the same way one shows that f ∗OY (n) = OX (dn) for all n ∈ Z and any morphism f : X → Y between projective schemes that is given by a collection of homogeneous polynomials of degree d. We have seen now that most sheaves occurring in practice are in fact quasi-coherent. So when we talk about sheaves from now on, we will usually think of quasi-coherent sheaves. This has the advantage that, on affine open subsets, sheaves (that form a somewhat complicated object) are essentially replaced by modules, which are usually much easier to handle. 7.3. Locally free sheaves. We now come to the discussion of locally free sheaves, i. e. sheaves that are locally just a finite direct sum of copies of the structure sheaf. These are the most important and best-behaved sheaves one can imagine. Definition 7.3.1. Let X be a scheme. A sheaf of OX -modules F is called locally free of rank r if there is an open cover {Ui} of X such that F |Ui ∼= O ⊕r Ui for all i. Obviously, every locally free sheaf is also quasi-coherent. Remark 7.3.2. The geometric interpretation of locally free sheaves is that they correspond to “vector bundles” as known from topology — objects that associate to every point P of a space X a vector bundle. For example, the “tangent sheaf” of P 1 in example 7.1.1 is such a vector bundle (of rank 1). Let us make this correspondence",400
"rank r on a scheme X. Then ci(F) = 0 for all i > r. Proof. By the splitting construction 10.3.6 we can assume that F has a filtration with line bundle quotients Li , i = 1,...,r. But then c(F) = ∏ r i=1 (1+c1(Li)) by remark 10.3.4, which obviously has no parts of degree bigger than r. Remark 10.3.8. This vanishing of Chern classes beyond the rank of the bundle is a property that is not shared by the Segre classes (see e. g. proposition 10.2.3 (ii)). This is one reason why Chern classes are usually preferred over Segre classes in computations (although they carry the same information). Remark 10.3.9. The splitting construction is usually formalized as follows. Let F be a vector bundle of rank r on a scheme X. We write formally c(F) = r ∏ i=1 (1+αi). There are two ways to think of the α1,...,αr : • The αi are just formal “variables” such that the k-th elementary symmetric polynomial in the αi is exactly ck(F). So any symmetric polynomial in the αi is expressible as a polynomial in the Chern classes of F in a unique way. • After having applied the splitting construction, the vector bundle F has a filtration with line bundle quotients Li . Then we can set αi = c1(Li), and the decomposition c(F) = ∏ r i=1 (1+αi) becomes an actual equation (and not just a formal one). The αi are usually called the Chern roots of F. Using the splitting construction and Chern roots, one can compute the Chern classes of almost any bundle that is constructed from other known bundles by standard operations: Proposition 10.3.10. Let X be a scheme, and let F and F0 be vector bundles with Chern roots (αi)i and (α 0 j )j , respectively. Then: (i) F ∨ has Chern roots (−αi)i . (ii) F ⊗F 0 has Chern roots (αi +α 0 j )i, j . (iii) S kF has Chern roots (αi1 +···+αik )i1≤···≤ik . (iv) Λ kF has Chern roots (αi1 +···+αik )i1<···<ik . Proof. (i): If F has a filtration 0 = F0 ⊂ F1 ⊂ ··· ⊂ Fr = F with line bundle quotients Li = Fi/Fi−1, then F ∨ has an induced filtration 0 = (F/Fr) ∨ ⊂ (F/Fr−1) ∨ ⊂ ··· ⊂ (F/F0) ∨ = F ∨ with line bundle quotients L ∨ i",400
